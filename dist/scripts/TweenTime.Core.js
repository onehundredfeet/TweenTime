(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("signals"), require("gsap")["TweenMax"], require("gsap")["TimelineMax"], require("gsap")["Quad"], require("lodash"));
	else if(typeof define === 'function' && define.amd)
		define(["signals", "TweenMax", "TimelineMax", "Quad", "lodash"], factory);
	else if(typeof exports === 'object')
		exports["Core"] = factory(require("signals"), require("gsap")["TweenMax"], require("gsap")["TimelineMax"], require("gsap")["Quad"], require("lodash"));
	else
		root["TweenTime"] = root["TweenTime"] || {}, root["TweenTime"]["Core"] = factory(root["signals"], root["TweenMax"], root["TimelineMax"], root["Quad"], root["_"]);
})(this, function(__WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_7__, __WEBPACK_EXTERNAL_MODULE_8__, __WEBPACK_EXTERNAL_MODULE_9__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Utils = __webpack_require__(1);\n\nvar _Utils2 = _interopRequireDefault(_Utils);\n\nvar _Timer = __webpack_require__(2);\n\nvar _Timer2 = _interopRequireDefault(_Timer);\n\nvar _Orchestrator = __webpack_require__(4);\n\nvar _Orchestrator2 = _interopRequireDefault(_Orchestrator);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _ = __webpack_require__(9);\n\nvar Core = function () {\n  function Core(data) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Core);\n\n    this.data = data;\n    this.options = options;\n    this.timer = new _Timer2.default(options);\n    this.orchestrator = new _Orchestrator2.default(this.timer, this.data);\n  }\n\n  _createClass(Core, [{\n    key: 'addUpdateListener',\n    value: function addUpdateListener(listener) {\n      this.orchestrator.addUpdateListener(listener);\n    }\n  }, {\n    key: 'removeUpdateListener',\n    value: function removeUpdateListener(listener) {\n      this.orchestrator.removeUpdateListener(listener);\n    }\n  }, {\n    key: 'setData',\n    value: function setData(data) {\n      this.data = data;\n      this.orchestrator.setData(data);\n    }\n  }, {\n    key: 'getData',\n    value: function getData() {\n      return this.data;\n    }\n  }, {\n    key: 'getItem',\n    value: function getItem(item_id) {\n      // In case we passed the item object directly return it.\n      if (item_id && (typeof item_id === 'undefined' ? 'undefined' : _typeof(item_id)) === 'object') {\n        return item_id;\n      }\n\n      return _.find(this.data, function (item) {\n        return item.id === item_id;\n      });\n    }\n  }, {\n    key: 'getCurrentTime',\n    value: function getCurrentTime() {\n      return this.timer.getCurrentTime();\n    }\n  }, {\n    key: 'getProperty',\n    value: function getProperty(prop_name, item_id_or_obj) {\n      // If we passed the item name get the object from it.\n      var item = this.getItem(item_id_or_obj);\n\n      // Return false if we have no item\n      if (!item) {\n        return false;\n      }\n\n      return _.find(item.properties, function (property) {\n        return property.name === prop_name;\n      });\n    }\n  }, {\n    key: 'getValues',\n    value: function getValues(item_id_or_obj) {\n      // If we passed the item name get the object from it.\n      var item = this.getItem(item_id_or_obj);\n\n      // Return false if we have no item\n      if (!item) {\n        return undefined;\n      }\n\n      return item.values;\n    }\n  }, {\n    key: 'getValue',\n    value: function getValue(prop_name, item_id_or_obj) {\n      // If we passed the item name get the object from it.\n      var values = this.getValues(item_id_or_obj);\n\n      // Return false if we have no item\n      if (!values) {\n        return undefined;\n      }\n\n      if (values[prop_name] !== undefined) {\n        return values[prop_name];\n      }\n      return undefined;\n    }\n  }, {\n    key: 'getKeyAt',\n    value: function getKeyAt(property, time_in_seconds) {\n      return _.find(property.keys, function (key) {\n        return key.time === time_in_seconds;\n      });\n    }\n  }, {\n    key: 'setValue',\n    value: function setValue(property, new_val) {\n      var time_in_seconds = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      var time = time_in_seconds;\n      if (time === false) {\n        time = this.timer.getCurrentTime() / 1000;\n      }\n      var key = this.getKeyAt(property, time);\n\n      if (key) {\n        // If we found a key, simply update the value.\n        key.val = new_val;\n      } else {\n        // If we are not on a key but the property has other keys,\n        // create it and add it to the keys array.\n        key = { val: new_val, time: time, _property: property };\n        if (this.options.defaultEase) {\n          key.ease = this.options.defaultEase;\n        }\n        property.keys.push(key);\n        // Also sort the keys.\n        property.keys = _Utils2.default.sortKeys(property.keys);\n      }\n    }\n  }, {\n    key: 'getTotalDuration',\n    value: function getTotalDuration() {\n      return this.orchestrator.getTotalDuration();\n    }\n  }, {\n    key: 'addOnEventListener',\n    value: function addOnEventListener(callback) {\n      this.orchestrator.onEvent.add(callback);\n    }\n  }, {\n    key: 'removeOnEventListener',\n    value: function removeOnEventListener(callback) {\n      this.orchestrator.onEvent.remove(callback);\n    }\n  }]);\n\n  return Core;\n}();\n\nmodule.exports = Core;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9Db3JlLmpzP2RjZjAiXSwibmFtZXMiOlsiXyIsInJlcXVpcmUiLCJDb3JlIiwiZGF0YSIsIm9wdGlvbnMiLCJ0aW1lciIsIm9yY2hlc3RyYXRvciIsImxpc3RlbmVyIiwiYWRkVXBkYXRlTGlzdGVuZXIiLCJyZW1vdmVVcGRhdGVMaXN0ZW5lciIsInNldERhdGEiLCJpdGVtX2lkIiwiZmluZCIsIml0ZW0iLCJpZCIsImdldEN1cnJlbnRUaW1lIiwicHJvcF9uYW1lIiwiaXRlbV9pZF9vcl9vYmoiLCJnZXRJdGVtIiwicHJvcGVydGllcyIsInByb3BlcnR5IiwibmFtZSIsInVuZGVmaW5lZCIsInZhbHVlcyIsImdldFZhbHVlcyIsInRpbWVfaW5fc2Vjb25kcyIsImtleXMiLCJrZXkiLCJ0aW1lIiwibmV3X3ZhbCIsImdldEtleUF0IiwidmFsIiwiX3Byb3BlcnR5IiwiZGVmYXVsdEVhc2UiLCJlYXNlIiwicHVzaCIsInNvcnRLZXlzIiwiZ2V0VG90YWxEdXJhdGlvbiIsImNhbGxiYWNrIiwib25FdmVudCIsImFkZCIsInJlbW92ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUVBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7QUFKQSxJQUFJQSxJQUFJLG1CQUFBQyxDQUFRLENBQVIsQ0FBUjs7SUFNTUMsSTtBQUNKLGdCQUFZQyxJQUFaLEVBQWdDO0FBQUEsUUFBZEMsT0FBYyx1RUFBSixFQUFJOztBQUFBOztBQUM5QixTQUFLRCxJQUFMLEdBQVlBLElBQVo7QUFDQSxTQUFLQyxPQUFMLEdBQWVBLE9BQWY7QUFDQSxTQUFLQyxLQUFMLEdBQWEsb0JBQVVELE9BQVYsQ0FBYjtBQUNBLFNBQUtFLFlBQUwsR0FBb0IsMkJBQWlCLEtBQUtELEtBQXRCLEVBQTZCLEtBQUtGLElBQWxDLENBQXBCO0FBQ0Q7Ozs7c0NBRWlCSSxRLEVBQVU7QUFDMUIsV0FBS0QsWUFBTCxDQUFrQkUsaUJBQWxCLENBQW9DRCxRQUFw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Z0JBQWxCLEVBQVA7QUFDRDs7O3VDQUVrQkMsUSxFQUFVO0FBQzNCLFdBQUtoQyxZQUFMLENBQWtCaUMsT0FBbEIsQ0FBMEJDLEdBQTFCLENBQThCRixRQUE5QjtBQUNEOzs7MENBRXFCQSxRLEVBQVU7QUFDOUIsV0FBS2hDLFlBQUwsQ0FBa0JpQyxPQUFsQixDQUEwQkUsTUFBMUIsQ0FBaUNILFFBQWpDO0FBQ0Q7Ozs7OztBQUdISSxPQUFPQyxPQUFQLEdBQWlCekMsSUFBakIiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XHJcblxyXG5pbXBvcnQgVXRpbHMgZnJvbSAnLi9jb3JlL1V0aWxzJztcclxuaW1wb3J0IFRpbWVyIGZyb20gJy4vY29yZS9UaW1lcic7XHJcbmltcG9ydCBPcmNoZXN0cmF0b3IgZnJvbSAnLi9jb3JlL09yY2hlc3RyYXRvcic7XHJcblxyXG5jbGFzcyBDb3JlIHtcclxuICBjb25zdHJ1Y3RvcihkYXRhLCBvcHRpb25zID0ge30pIHtcclxuICAgIHRoaXMuZGF0YSA9IGRhdGE7XHJcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgdGhpcy50aW1lciA9IG5ldyBUaW1lcihvcHRpb25zKTtcclxuICAgIHRoaXMub3JjaGVzdHJhdG9yID0gbmV3IE9yY2hlc3RyYXRvcih0aGlzLnRpbWVyLCB0aGlzLmRhdGEpO1xyXG4gIH1cclxuXHJcbiAgYWRkVXBkYXRlTGlzdGVuZXIobGlzdGVuZXIpIHtcclxuICAgIHRoaXMub3JjaGVzdHJhdG9yLmFkZFVwZGF0ZUxpc3RlbmVyKGxpc3RlbmVyKTtcclxuICB9XHJcblxyXG4gIHJlbW92ZVVwZGF0ZUxpc3RlbmVyKGxpc3RlbmVyKSB7XHJcbiAgICB0aGlzLm9yY2hlc3RyYXRvci5yZW1vdmVVcGRhdGVMaXN0ZW5lcihsaXN0ZW5lcik7XHJcbiAgfVxyXG5cclxuICBzZXREYXRhKGRhdGEpIHtcclxuICAgIHRoaXMuZGF0YSA9IGRhdGE7XHJcbiAgICB0aGlzLm9yY2hlc3RyYXRvci5zZXREYXRhKGRhdGEpO1xyXG4gIH1cclxuXHJcbiAgZ2V0RGF0YSgpIHtcclxuICAgIHJldHVybiB0aGlzLmRhdGE7XHJcbiAgfVxyXG5cclxuICBnZXRJdGVtKGl0ZW1faWQpIHtcclxuICAgIC8vIEluIGNhc2Ugd2UgcGFzc2VkIHRoZSBpdGVtIG9iamVjdCBkaXJlY3RseSByZXR1cm4gaXQuXHJcbiAgICBpZiAoaXRlbV9pZCAmJiB0eXBlb2YgaXRlbV9pZCA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgcmV0dXJuIGl0ZW1faWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIF8uZmluZCh0aGlzLmRhdGEsIChpdGVtKSA9PiBpdGVtLmlkID09PSBpdGVtX2lkKTtcclxuICB9XHJcblxyXG4gIGdldEN1cnJlbnRUaW1lKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudGltZXIuZ2V0Q3VycmVudFRpbWUoKTtcclxuICB9XHJcblxyXG4gIGdldFByb3BlcnR5KHByb3BfbmFtZSwgaXRlbV9pZF9vcl9vYmopIHtcclxuICAgIC8vIElmIHdlIHBhc3NlZCB0aGUgaXRlbSBuYW1lIGdldCB0aGUgb2JqZWN0IGZyb20gaXQuXHJcbiAgICBsZXQgaXRlbSA9IHRoaXMuZ2V0SXRlbShpdGVtX2lkX29yX29iaik7XHJcblxyXG4gICAgLy8gUmV0dXJuIGZhbHNlIGlmIHdlIGhhdmUgbm8gaXRlbVxyXG4gICAgaWYgKCFpdGVtKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gXy5maW5kKGl0ZW0ucHJvcGVydGllcywgcHJvcGVydHkgPT4gcHJvcGVydHkubmFtZSA9PT0gcHJvcF9uYW1lKTtcclxuICB9XHJcblxyXG4gIGdldFZhbHVlcyhpdGVtX2lkX29yX29iaikge1xyXG4gICAgLy8gSWYgd2UgcGFzc2VkIHRoZSBpdGVtIG5hbWUgZ2V0IHRoZSBvYmplY3QgZnJvbSBpdC5cclxuICAgIGxldCBpdGVtID0gdGhpcy5nZXRJdGVtKGl0ZW1faWRfb3Jfb2JqKTtcclxuXHJcbiAgICAvLyBSZXR1cm4gZmFsc2UgaWYgd2UgaGF2ZSBubyBpdGVtXHJcbiAgICBpZiAoIWl0ZW0pIHtcclxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gaXRlbS52YWx1ZXM7XHJcbiAgfVxyXG5cclxuICBnZXRWYWx1ZShwcm9wX25hbWUsIGl0ZW1faWRfb3Jfb2JqKSB7XHJcbiAgICAvLyBJZiB3ZSBwYXNzZWQgdGhlIGl0ZW0gbmFtZSBnZXQgdGhlIG9iamVjdCBmcm9tIGl0LlxyXG4gICAgdmFyIHZhbHVlcyA9IHRoaXMuZ2V0VmFsdWVzKGl0ZW1faWRfb3Jfb2JqKTtcclxuXHJcbiAgICAvLyBSZXR1cm4gZmFsc2UgaWYgd2UgaGF2ZSBubyBpdGVtXHJcbiAgICBpZiAoIXZhbHVlcykge1xyXG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh2YWx1ZXNbcHJvcF9uYW1lXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHJldHVybiB2YWx1ZXNbcHJvcF9uYW1lXTtcclxuICAgIH1cclxuICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgfVxyXG5cclxuICBnZXRLZXlBdChwcm9wZXJ0eSwgdGltZV9pbl9zZWNvbmRzKSB7XHJcbiAgICByZXR1cm4gXy5maW5kKHByb3BlcnR5LmtleXMsIGtleSA9PiBrZXkudGltZSA9PT0gdGltZV9pbl9zZWNvbmRzKTtcclxuICB9XHJcblxyXG4gIHNldFZhbHVlKHByb3BlcnR5LCBuZXdfdmFsLCB0aW1lX2luX3NlY29uZHMgPSBmYWxzZSkge1xyXG4gICAgbGV0IHRpbWUgPSB0aW1lX2luX3NlY29uZHM7XHJcbiAgICBpZiAodGltZSA9PT0gZmFsc2UpIHtcclxuICAgICAgdGltZSA9IHRoaXMudGltZXIuZ2V0Q3VycmVudFRpbWUoKSAvIDEwMDA7XHJcbiAgICB9XHJcbiAgICB2YXIga2V5ID0gdGhpcy5nZXRLZXlBdChwcm9wZXJ0eSwgdGltZSk7XHJcblxyXG4gICAgaWYgKGtleSkge1xyXG4gICAgICAvLyBJZiB3ZSBmb3VuZCBhIGtleSwgc2ltcGx5IHVwZGF0ZSB0aGUgdmFsdWUuXHJcbiAgICAgIGtleS52YWwgPSBuZXdfdmFsO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIC8vIElmIHdlIGFyZSBub3Qgb24gYSBrZXkgYnV0IHRoZSBwcm9wZXJ0eSBoYXMgb3RoZXIga2V5cyxcclxuICAgICAgLy8gY3JlYXRlIGl0IGFuZCBhZGQgaXQgdG8gdGhlIGtleXMgYXJyYXkuXHJcbiAgICAgIGtleSA9IHt2YWw6IG5ld192YWwsIHRpbWU6IHRpbWUsIF9wcm9wZXJ0eTogcHJvcGVydHl9O1xyXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmRlZmF1bHRFYXNlKSB7XHJcbiAgICAgICAga2V5LmVhc2UgPSB0aGlzLm9wdGlvbnMuZGVmYXVsdEVhc2U7XHJcbiAgICAgIH1cclxuICAgICAgcHJvcGVydHkua2V5cy5wdXNoKGtleSk7XHJcbiAgICAgIC8vIEFsc28gc29ydCB0aGUga2V5cy5cclxuICAgICAgcHJvcGVydHkua2V5cyA9IFV0aWxzLnNvcnRLZXlzKHByb3BlcnR5LmtleXMpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0VG90YWxEdXJhdGlvbigpIHtcclxuICAgIHJldHVybiB0aGlzLm9yY2hlc3RyYXRvci5nZXRUb3RhbER1cmF0aW9uKCk7XHJcbiAgfVxyXG5cclxuICBhZGRPbkV2ZW50TGlzdGVuZXIoY2FsbGJhY2spIHtcclxuICAgIHRoaXMub3JjaGVzdHJhdG9yLm9uRXZlbnQuYWRkKGNhbGxiYWNrKTtcclxuICB9XHJcblxyXG4gIHJlbW92ZU9uRXZlbnRMaXN0ZW5lcihjYWxsYmFjaykge1xyXG4gICAgdGhpcy5vcmNoZXN0cmF0b3Iub25FdmVudC5yZW1vdmUoY2FsbGJhY2spO1xyXG4gIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBDb3JlO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9Db3JlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 1 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar EASE_POINTS = {\n  'Linear.easeNone': [0.250, 0.250, 0.750, 0.750],\n  'Quad.easeIn': [0.550, 0.085, 0.680, 0.530],\n  'Quad.easeOut': [0.250, 0.460, 0.450, 0.940],\n  'Quad.easeInOut': [0.455, 0.030, 0.515, 0.955],\n  'Cubic.easeIn': [0.550, 0.055, 0.675, 0.190],\n  'Cubic.easeOut': [0.215, 0.610, 0.355, 1.000],\n  'Cubic.easeInOut': [0.645, 0.045, 0.355, 1.000],\n  'Quart.easeIn': [0.895, 0.030, 0.685, 0.220],\n  'Quart.easeOut': [0.165, 0.840, 0.440, 1.000],\n  'Quart.easeInOut': [0.770, 0.000, 0.175, 1.000],\n  'Quint.easeIn': [0.755, 0.050, 0.855, 0.060],\n  'Quint.easeOut': [0.230, 1.000, 0.320, 1.000],\n  'Quint.easeInOut': [0.860, 0.000, 0.070, 1.000]\n};\n\nvar Utils = function () {\n  function Utils() {\n    _classCallCheck(this, Utils);\n  }\n\n  _createClass(Utils, null, [{\n    key: 'formatMinutes',\n    value: function formatMinutes(d) {\n      // convert milliseconds to seconds\n      var seconds = d / 1000;\n      var hours = Math.floor(seconds / 3600);\n      var minutes = Math.floor((seconds - hours * 3600) / 60);\n      seconds = seconds - minutes * 60;\n      var output = seconds + 's';\n      if (minutes) {\n        output = minutes + 'm ' + output;\n      }\n      if (hours) {\n        output = hours + 'h ' + output;\n      }\n      return output;\n    }\n  }, {\n    key: 'getClosestTime',\n    value: function getClosestTime(data, time) {\n      var objectId = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var property_name = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      var timer = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n      var tolerance = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0.1;\n\n      if (timer) {\n        var timer_time = timer.getCurrentTime() / 1000;\n        if (Math.abs(timer_time - time) <= tolerance) {\n          return timer_time;\n        }\n      }\n\n      if (objectId || property_name) {\n        for (var i = 0; i < data.length; i++) {\n          var item = data[i];\n          // Don't match item with itself, but allow property to match item start/end.\n          if (item.id !== objectId || property_name) {\n            // First check start & end.\n            if (Math.abs(item.start - time) <= tolerance) {\n              return item.start;\n            }\n\n            if (Math.abs(item.end - time) <= tolerance) {\n              return item.end;\n            }\n          }\n\n          // Test properties keys\n          for (var j = 0; j < item.properties.length; j++) {\n            var prop = item.properties[j];\n\n            // Don't match property with itself.\n            if (prop.keys && (item.id !== objectId || prop.name !== property_name)) {\n              for (var k = 0; k < prop.keys.length; k++) {\n                var key = prop.keys[k];\n                if (Math.abs(key.time - time) <= tolerance) {\n                  return key.time;\n                }\n              }\n            }\n          }\n        }\n      }\n      return false;\n    }\n  }, {\n    key: 'getPreviousKey',\n    value: function getPreviousKey(keys, time) {\n      var prevKey = false;\n      for (var i = 0; i < keys.length; i++) {\n        var key = keys[i];\n        if (key.time < time) {\n          prevKey = key;\n        } else {\n          return prevKey;\n        }\n      }\n      return prevKey;\n    }\n  }, {\n    key: 'sortKeys',\n    value: function sortKeys(keys) {\n      var compare = function compare(a, b) {\n        if (a.time < b.time) {\n          return -1;\n        }\n        if (a.time > b.time) {\n          return 1;\n        }\n        return 0;\n      };\n      return keys.sort(compare);\n    }\n  }, {\n    key: 'guid',\n    value: function guid() {\n      var s4 = function s4() {\n        return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n      };\n      return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n    }\n  }, {\n    key: 'getEasingPoints',\n    value: function getEasingPoints(ease) {\n      // If already an array then return it directly.\n      if (Array.isArray(ease)) {\n        return ease;\n      }\n      // Return the points but clone the array first ; )\n      if (EASE_POINTS[ease]) {\n        return EASE_POINTS[ease].slice(0);\n      }\n      return EASE_POINTS['Quad.easeInOut'].slice(0);\n    }\n  }]);\n\n  return Utils;\n}();\n\nexports.default = Utils;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb3JlL1V0aWxzLmpzPzhkMmYiXSwibmFtZXMiOlsiRUFTRV9QT0lOVFMiLCJVdGlscyIsImQiLCJzZWNvbmRzIiwiaG91cnMiLCJNYXRoIiwiZmxvb3IiLCJtaW51dGVzIiwib3V0cHV0IiwiZGF0YSIsInRpbWUiLCJvYmplY3RJZCIsInByb3BlcnR5X25hbWUiLCJ0aW1lciIsInRvbGVyYW5jZSIsInRpbWVyX3RpbWUiLCJnZXRDdXJyZW50VGltZSIsImFicyIsImkiLCJsZW5ndGgiLCJpdGVtIiwiaWQiLCJzdGFydCIsImVuZCIsImoiLCJwcm9wZXJ0aWVzIiwicHJvcCIsImtleXMiLCJuYW1lIiwiayIsImtleSIsInByZXZLZXkiLCJjb21wYXJlIiwiYSIsImIiLCJzb3J0IiwiczQiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsImVhc2UiLCJBcnJheSIsImlzQXJyYXkiLCJzbGljZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLElBQU1BLGNBQWM7QUFDbEIscUJBQW1CLENBQUMsS0FBRCxFQUFRLEtBQVIsRUFBZSxLQUFmLEVBQXNCLEtBQXRCLENBREQ7QUFFbEIsaUJBQWUsQ0FBQyxLQUFELEVBQVEsS0FBUixFQUFlLEtBQWYsRUFBc0IsS0FBdEIsQ0FGRztBQUdsQixrQkFBZ0IsQ0FBQyxLQUFELEVBQVEsS0FBUixFQUFlLEtBQWYsRUFBc0IsS0FBdEIsQ0FIRTtBQUlsQixvQkFBa0IsQ0FBQyxLQUFELEVBQVEsS0FBUixFQUFlLEtBQWYsRUFBc0IsS0FBdEIsQ0FKQTtBQUtsQixrQkFBZ0IsQ0FBQyxLQUFELEVBQVEsS0FBUixFQUFlLEtBQWYsRUFBc0IsS0FBdEIsQ0FMRTtBQU1sQixtQkFBaUIsQ0FBQyxLQUFELEVBQVEsS0FBUixFQUFlLEtBQWYsRUFBc0IsS0FBdEIsQ0FOQztBQU9sQixxQkFBbUIsQ0FBQyxLQUFELEVBQVEsS0FBUixFQUFlLEtBQWYsRUFBc0IsS0FBdEIsQ0FQRDtBQVFsQixr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QUZEO0FBR0EsYUFBT0gsT0FBT0EsSUFBUCxHQUFjLEdBQWQsR0FBb0JBLElBQXBCLEdBQTJCLEdBQTNCLEdBQWlDQSxJQUFqQyxHQUF3QyxHQUF4QyxHQUE4Q0EsSUFBOUMsR0FBcUQsR0FBckQsR0FBMkRBLElBQTNELEdBQWtFQSxJQUFsRSxHQUF5RUEsSUFBaEY7QUFDRDs7O29DQUVzQkksSSxFQUFNO0FBQzNCO0FBQ0EsVUFBSUMsTUFBTUMsT0FBTixDQUFjRixJQUFkLENBQUosRUFBeUI7QUFDdkIsZUFBT0EsSUFBUDtBQUNEO0FBQ0Q7QUFDQSxVQUFJeEMsWUFBWXdDLElBQVosQ0FBSixFQUF1QjtBQUNyQixlQUFPeEMsWUFBWXdDLElBQVosRUFBa0JHLEtBQWxCLENBQXdCLENBQXhCLENBQVA7QUFDRDtBQUNELGFBQU8zQyxZQUFZLGdCQUFaLEVBQThCMkMsS0FBOUIsQ0FBb0MsQ0FBcEMsQ0FBUDtBQUNEOzs7Ozs7a0JBdkdrQjFDLEsiLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEVBU0VfUE9JTlRTID0ge1xyXG4gICdMaW5lYXIuZWFzZU5vbmUnOiBbMC4yNTAsIDAuMjUwLCAwLjc1MCwgMC43NTBdLFxyXG4gICdRdWFkLmVhc2VJbic6IFswLjU1MCwgMC4wODUsIDAuNjgwLCAwLjUzMF0sXHJcbiAgJ1F1YWQuZWFzZU91dCc6IFswLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MF0sXHJcbiAgJ1F1YWQuZWFzZUluT3V0JzogWzAuNDU1LCAwLjAzMCwgMC41MTUsIDAuOTU1XSxcclxuICAnQ3ViaWMuZWFzZUluJzogWzAuNTUwLCAwLjA1NSwgMC42NzUsIDAuMTkwXSxcclxuICAnQ3ViaWMuZWFzZU91dCc6IFswLjIxNSwgMC42MTAsIDAuMzU1LCAxLjAwMF0sXHJcbiAgJ0N1YmljLmVhc2VJbk91dCc6IFswLjY0NSwgMC4wNDUsIDAuMzU1LCAxLjAwMF0sXHJcbiAgJ1F1YXJ0LmVhc2VJbic6IFswLjg5NSwgMC4wMzAsIDAuNjg1LCAwLjIyMF0sXHJcbiAgJ1F1YXJ0LmVhc2VPdXQnOiBbMC4xNjUsIDAuODQwLCAwLjQ0MCwgMS4wMDBdLFxyXG4gICdRdWFydC5lYXNlSW5PdXQnOiBbMC43NzAsIDAuMDAwLCAwLjE3NSwgMS4wMDBdLFxyXG4gICdRdWludC5lYXNlSW4nOiBbMC43NTUsIDAuMDUwLCAwLjg1NSwgMC4wNjBdLFxyXG4gICdRdWludC5lYXNlT3V0JzogWzAuMjMwLCAxLjAwMCwgMC4zMjAsIDEuMDAwXSxcclxuICAnUXVpbnQuZWFzZUluT3V0JzogWzAuODYwLCAwLjAwMCwgMC4wNzAsIDEuMDAwXVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXRpbHMge1xyXG4gIHN0YXRpYyBmb3JtYXRNaW51dGVzKGQpIHtcclxuICAgIC8vIGNvbnZlcnQgbWlsbGlzZWNvbmRzIHRvIHNlY29uZHNcclxuICAgIGxldCBzZWNvbmRzID0gZCAvIDEwMDA7XHJcbiAgICBsZXQgaG91cnMgPSBNYXRoLmZsb29yKHNlY29uZHMgLyAzNjAwKTtcclxuICAgIGxldCBtaW51dGVzID0gTWF0aC5mbG9vcigoc2Vjb25kcyAtIGhvdXJzICogMzYwMCkgLyA2MCk7XHJcbiAgICBzZWNvbmRzID0gc2Vjb25kcyAtIG1pbnV0ZXMgKiA2MDtcclxuICAgIGxldCBvdXRwdXQgPSBzZWNvbmRzICsgJ3MnO1xyXG4gICAgaWYgKG1pbnV0ZXMpIHtcclxuICAgICAgb3V0cHV0ID0gbWludXRlcyArICdtICcgKyBvdXRwdXQ7XHJcbiAgICB9XHJcbiAgICBpZiAoaG91cnMpIHtcclxuICAgICAgb3V0cHV0ID0gaG91cnMgKyAnaCAnICsgb3V0cHV0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG91dHB1dDtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXRDbG9zZXN0VGltZShkYXRhLCB0aW1lLCBvYmplY3RJZCA9IGZhbHNlLCBwcm9wZXJ0eV9uYW1lID0gZmFsc2UsIHRpbWVyID0gZmFsc2UsIHRvbGVyYW5jZSA9IDAuMSkge1xyXG4gICAgaWYgKHRpbWVyKSB7XHJcbiAgICAgIHZhciB0aW1lcl90aW1lID0gdGltZXIuZ2V0Q3VycmVudFRpbWUoKSAvIDEwMDA7XHJcbiAgICAgIGlmIChNYXRoLmFicyh0aW1lcl90aW1lIC0gdGltZSkgPD0gdG9sZXJhbmNlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRpbWVyX3RpbWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAob2JqZWN0SWQgfHwgcHJvcGVydHlfbmFtZSkge1xyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgaXRlbSA9IGRhdGFbaV07XHJcbiAgICAgICAgLy8gRG9uJ3QgbWF0Y2ggaXRlbSB3aXRoIGl0c2VsZiwgYnV0IGFsbG93IHByb3BlcnR5IHRvIG1hdGNoIGl0ZW0gc3RhcnQvZW5kLlxyXG4gICAgICAgIGlmIChpdGVtLmlkICE9PSBvYmplY3RJZCB8fCBwcm9wZXJ0eV9uYW1lKSB7XHJcbiAgICAgICAgICAvLyBGaXJzdCBjaGVjayBzdGFydCAmIGVuZC5cclxuICAgICAgICAgIGlmIChNYXRoLmFicyhpdGVtLnN0YXJ0IC0gdGltZSkgPD0gdG9sZXJhbmNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtLnN0YXJ0O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChNYXRoLmFicyhpdGVtLmVuZCAtIHRpbWUpIDw9IHRvbGVyYW5jZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gaXRlbS5lbmQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBUZXN0IHByb3BlcnRpZXMga2V5c1xyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgaXRlbS5wcm9wZXJ0aWVzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICB2YXIgcHJvcCA9IGl0ZW0ucHJvcGVydGllc1tqXTtcclxuXHJcbiAgICAgICAgICAvLyBEb24ndCBtYXRjaCBwcm9wZXJ0eSB3aXRoIGl0c2VsZi5cclxuICAgICAgICAgIGlmIChwcm9wLmtleXMgJiYgKGl0ZW0uaWQgIT09IG9iamVjdElkIHx8IHByb3AubmFtZSAhPT0gcHJvcGVydHlfbmFtZSkpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBwcm9wLmtleXMubGVuZ3RoOyBrKyspIHtcclxuICAgICAgICAgICAgICB2YXIga2V5ID0gcHJvcC5rZXlzW2tdO1xyXG4gICAgICAgICAgICAgIGlmIChNYXRoLmFicyhrZXkudGltZSAtIHRpbWUpIDw9IHRvbGVyYW5jZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleS50aW1lO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldFByZXZpb3VzS2V5KGtleXMsIHRpbWUpIHtcclxuICAgIHZhciBwcmV2S2V5ID0gZmFsc2U7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdmFyIGtleSA9IGtleXNbaV07XHJcbiAgICAgIGlmIChrZXkudGltZSA8IHRpbWUpIHtcclxuICAgICAgICBwcmV2S2V5ID0ga2V5O1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBwcmV2S2V5O1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJldktleTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBzb3J0S2V5cyhrZXlzKSB7XHJcbiAgICB2YXIgY29tcGFyZSA9IGZ1bmN0aW9uKGEsIGIpIHtcclxuICAgICAgaWYgKGEudGltZSA8IGIudGltZSkge1xyXG4gICAgICAgIHJldHVybiAtMTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoYS50aW1lID4gYi50aW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIDA7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGtleXMuc29ydChjb21wYXJlKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBndWlkKCkge1xyXG4gICAgdmFyIHM0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiBNYXRoLmZsb29yKCgxICsgTWF0aC5yYW5kb20oKSkgKiAweDEwMDAwKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBzNCgpICsgczQoKSArICctJyArIHM0KCkgKyAnLScgKyBzNCgpICsgJy0nICsgczQoKSArICctJyArIHM0KCkgKyBzNCgpICsgczQoKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXRFYXNpbmdQb2ludHMoZWFzZSkge1xyXG4gICAgLy8gSWYgYWxyZWFkeSBhbiBhcnJheSB0aGVuIHJldHVybiBpdCBkaXJlY3RseS5cclxuICAgIGlmIChBcnJheS5pc0FycmF5KGVhc2UpKSB7XHJcbiAgICAgIHJldHVybiBlYXNlO1xyXG4gICAgfVxyXG4gICAgLy8gUmV0dXJuIHRoZSBwb2ludHMgYnV0IGNsb25lIHRoZSBhcnJheSBmaXJzdCA7IClcclxuICAgIGlmIChFQVNFX1BPSU5UU1tlYXNlXSkge1xyXG4gICAgICByZXR1cm4gRUFTRV9QT0lOVFNbZWFzZV0uc2xpY2UoMCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gRUFTRV9QT0lOVFNbJ1F1YWQuZWFzZUluT3V0J10uc2xpY2UoMCk7XHJcbiAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2NvcmUvVXRpbHMuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 2 */
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function(setImmediate) {'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Signals = __webpack_require__(3);\n\nvar Timer = function () {\n  function Timer() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Timer);\n\n    // in millisecond\n    this.totalDuration = options.totalDuration || 240 * 1000;\n    // Use an array for the time for easier d3.js integration (used as data for timeseeker).\n    this.time = [0];\n    this.is_playing = false;\n    this.last_timeStamp = -1;\n    this.last_time = -1;\n    this.updated = new Signals.Signal();\n    this.preStatusChanged = new Signals.Signal();\n    this.statusChanged = new Signals.Signal();\n    this.durationChanged = new Signals.Signal();\n    this.seeked = new Signals.Signal();\n    this.update = this.update.bind(this);\n    window.requestAnimationFrame(this.update);\n  }\n\n  _createClass(Timer, [{\n    key: 'getCurrentTime',\n    value: function getCurrentTime() {\n      return this.time[0];\n    }\n  }, {\n    key: 'getDuration',\n    value: function getDuration() {\n      return this.totalDuration / 1000;\n    }\n  }, {\n    key: 'setDuration',\n    value: function setDuration(seconds) {\n      this.totalDuration = seconds * 1000;\n      this.durationChanged.dispatch(seconds);\n    }\n  }, {\n    key: 'play',\n    value: function play() {\n      var _this = this;\n\n      this.preStatusChanged.dispatch(true);\n      setImmediate(function () {\n        _this.is_playing = true;\n        _this.statusChanged.dispatch(_this.is_playing);\n      });\n    }\n  }, {\n    key: 'stop',\n    value: function stop() {\n      var _this2 = this;\n\n      this.preStatusChanged.dispatch(false);\n      setImmediate(function () {\n        _this2.is_playing = false;\n        _this2.statusChanged.dispatch(_this2.is_playing);\n      });\n    }\n  }, {\n    key: 'toggle',\n    value: function toggle() {\n      var _this3 = this;\n\n      this.preStatusChanged.dispatch(!this.is_playing);\n      setImmediate(function () {\n        _this3.is_playing = !_this3.is_playing;\n        _this3.statusChanged.dispatch(_this3.is_playing);\n      });\n    }\n  }, {\n    key: 'seek',\n    value: function seek(time) {\n      this.time[0] = time[0];\n      this.seeked.dispatch(this.time[0]);\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      // Init timestamp\n\n      // the argument timestamp is too old, if we have a long time task on click on\n      // play button's click handler. so re-fetch the current timestamp here again.\n      var timestamp = performance.now();\n      if (this.last_timeStamp === -1) {\n        this.last_timeStamp = timestamp;\n      }\n      var elapsed = timestamp - this.last_timeStamp;\n\n      if (this.is_playing) {\n        this.time[0] += elapsed;\n      }\n\n      if (this.time[0] >= this.totalDuration) {\n        // Stop timer when reaching the end.\n        this.time[0] = this.totalDuration;\n        this.stop();\n      }\n\n      this.updated.dispatch(this.time[0], this.is_playing ? elapsed : 0);\n\n      this.last_timeStamp = timestamp;\n      this.last_time = this.time[0];\n      window.requestAnimationFrame(this.update);\n    }\n  }]);\n\n  return Timer;\n}();\n\nexports.default = Timer;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\"./../../../node_modules/timers-browserify/main.js\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())).setImmediate))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb3JlL1RpbWVyLmpzP2Q0YmUiXSwibmFtZXMiOlsiU2lnbmFscyIsInJlcXVpcmUiLCJUaW1lciIsIm9wdGlvbnMiLCJ0b3RhbER1cmF0aW9uIiwidGltZSIsImlzX3BsYXlpbmciLCJsYXN0X3RpbWVTdGFtcCIsImxhc3RfdGltZSIsInVwZGF0ZWQiLCJTaWduYWwiLCJwcmVTdGF0dXNDaGFuZ2VkIiwic3RhdHVzQ2hhbmdlZCIsImR1cmF0aW9uQ2hhbmdlZCIsInNlZWtlZCIsInVwZGF0ZSIsImJpbmQiLCJ3aW5kb3ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzZWNvbmRzIiwiZGlzcGF0Y2giLCJzZXRJbW1lZGlhdGUiLCJ0aW1lc3RhbXAiLCJwZXJmb3JtYW5jZSIsIm5vdyIsImVsYXBzZWQiLCJzdG9wIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsSUFBSUEsVUFBVSxtQkFBQUMsQ0FBUSxDQUFSLENBQWQ7O0lBRXFCQyxLO0FBQ25CLG1CQUEwQjtBQUFBLFFBQWRDLE9BQWMsdUVBQUosRUFBSTs7QUFBQTs7QUFDeEI7QUFDQSxTQUFLQyxhQUFMLEdBQXFCRCxRQUFRQyxhQUFSLElBQXlCLE1BQU0sSUFBcEQ7QUFDQTtBQUNBLFNBQUtDLElBQUwsR0FBWSxDQUFDLENBQUQsQ0FBWjtBQUNBLFNBQUtDLFVBQUwsR0FBa0IsS0FBbEI7QUFDQSxTQUFLQyxjQUFMLEdBQXNCLENBQUMsQ0FBdkI7QUFDQSxTQUFLQyxTQUFMLEdBQWlCLENBQUMsQ0FBbEI7QUFDQSxTQUFLQyxPQUFMLEdBQWUsSUFBSVQsUUFBUVUsTUFBWixFQUFmO0FBQ0EsU0FBS0MsZ0JBQUwsR0FBd0IsSUFBSVgsUUFBUVUsTUFBWixFQUF4QjtBQUNBLFNBQUtFLGFBQUwsR0FBcUIsSUFBSVosUUFBUVUsTUFBWixFQUFyQjtBQUNBLFNBQUtHLGVBQUwsR0FBdUIsSUFBSWIsUUFBUVUsTUFBWixFQUF2QjtBQUNBLFNBQUtJLE1BQUwsR0FBYyxJQUFJZCxRQUFRVSxNQUFaLEVBQWQ7QUFDQSxTQUFLSyxNQUFMLEdBQWMsS0FBS0EsTUFBTCxDQUFZQyxJQUFaLENBQWlCLElBQWpCLENBQWQ7QUFDQUMsV0FBT0MscUJBQVAsQ0FBNkIsS0FBS0gsTUFBbEM7QUFDRDs7OztxQ0FFZ0I7QUFDZixhQUFPLEtBQUtWLElBQUwsQ0FBVSxDQUFWLENBQVA7QUFDRDs7O2tDQUVhO0FBQ1osYUFBTyxLQUFLRCxhQUFMLEdBQXFCLElBQTVCO0FBQ0Q7OztnQ0FFV2UsTyxFQUFTO0FBQ25CLFdBQUtmLGFBQUwsR0FBcUJlLFVBQVUsSUFBL0I7QUFDQSxXQUFLTixlQUFMLENBQXFCTyxRQUFyQixDQUE4QkQsT0FBOUI7QUFDRDs7OzJCQUVNO0FBQUE7O0FBQ0wsV0FBS1IsZ0JBQUwsQ0FBc0JTLFFBQXRCLENBQStCLElBQS9CO0FBQ0FDLG1CQUFhLFlBQU07QUFDakIsY0FBS2YsVUFBTCxHQUFrQixJQUFsQjtBQUNBLGNBQUtNLGFBQUwsQ0FBbUJRLFFBQW5CLENBQTRCLE1BQUtkLFVBQWpDO0FBQ0QsT0FIRDtBQUlEOzs7MkJBRU07QUFBQTs7QUFDTCxXQUFLSyxnQkFBTCxDQUFzQlMsUUFBdEIsQ0FBK0IsS0FBL0I7QUFDQUMsbUJBQWEsWUFBTTtBQUNqQixlQUFLZixVQUFMLEdBQWtCLEtBQWxCO0FBQ0EsZUFBS00sYUFBTCxDQUFtQlEsUUFBbkIsQ0FBNEIsT0FBS2QsVUFBakM7QUFDRCxPQUhEO0FBSUQ7Ozs2QkFFUTtBQUFBOztBQUNQLFdBQUtLLGdCQUFMLENBQXNCUyxRQUF0QixDQUErQixDQUFDLEtBQUtkLFVBQXJDO0FBQ0FlLG1CQUFhLFlBQU07QUFDakIsZUFBS2YsVUFBTCxHQUFrQixDQUFDLE9BQUtBLFVBQXhCO0FBQ0EsZUFBS00sYUFBTCxDQUFtQlEsUUFBbkIsQ0FBNEIsT0FBS2QsVUFBakM7QUFDRCxPQUhEO0FBSUQ7Ozt5QkFFSUQsSSxFQUFNO0FBQ1QsV0FBS0EsSUFBTCxDQUFVLENBQVYsSUFBZUEsS0FBSyxDQUFMLENBQWY7QUFDQSxXQUFLUyxNQUFMLENBQVlNLFFBQVosQ0FBcUIsS0FBS2YsSUFBTCxDQUFVLENBQVYsQ0FBckI7QUFDRDs7OzZCQUVRO0FBQ1A7O0FBRUE7QUFDQTtBQUNBLFVBQUlpQixZQUFZQyxZQUFZQyxHQUFaLEVBQWhCO0FBQ0EsVUFBSSxLQUFLakIsY0FBTCxLQUF3QixDQUFDLENBQTdCLEVBQWdDO0FBQzlCLGFBQUtBLGNBQUwsR0FBc0JlLFNBQXRCO0FBQ0Q7QUFDRCxVQUFJRyxVQUFVSCxZQUFZLEtBQUtmLGNBQS9COztBQUVBLFVBQUksS0FBS0QsVUFBVCxFQUFxQjtBQUNuQixhQUFLRCxJQUFMLENBQVUsQ0FBVixLQUFnQm9CLE9BQWhCO0FBQ0Q7O0FBRUQsVUFBSSxLQUFLcEIsSUFBTCxDQUFVLENBQVYsS0FBZ0IsS0FBS0QsYUFBekIsRUFBd0M7QUFDdEM7QUFDQSxhQUFLQyxJQUFMLENBQVUsQ0FBVixJQUFlLEtBQUtELGFBQXBCO0FBQ0EsYUFBS3NCLElBQUw7QUFDRDs7QUFFRCxXQUFLakIsT0FBTCxDQUFhVyxRQUFiLENBQXNCLEtBQUtmLElBQUwsQ0FBVSxDQUFWLENBQXRCLEVBQW9DLEtBQUtDLFVBQUwsR0FBa0JtQixPQUFsQixHQUE0QixDQUFoRTs7QUFFQSxXQUFLbEIsY0FBTCxHQUFzQmUsU0FBdEI7QUFDQSxXQUFLZCxTQUFMLEdBQWlCLEtBQUtILElBQUwsQ0FBVSxDQUFWLENBQWpCO0FBQ0FZLGFBQU9DLHFCQUFQLENBQTZCLEtBQUtILE1BQWxDO0FBQ0Q7Ozs7OztrQkF0RmtCYixLIiwiZmlsZSI6IjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgU2lnbmFscyA9IHJlcXVpcmUoJ2pzLXNpZ25hbHMnKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpbWVyIHtcclxuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcclxuICAgIC8vIGluIG1pbGxpc2Vjb25kXHJcbiAgICB0aGlzLnRvdGFsRHVyYXRpb24gPSBvcHRpb25zLnRvdGFsRHVyYXRpb24gfHwgMjQwICogMTAwMDtcclxuICAgIC8vIFVzZSBhbiBhcnJheSBmb3IgdGhlIHRpbWUgZm9yIGVhc2llciBkMy5qcyBpbnRlZ3JhdGlvbiAodXNlZCBhcyBkYXRhIGZvciB0aW1lc2Vla2VyKS5cclxuICAgIHRoaXMudGltZSA9IFswXTtcclxuICAgIHRoaXMuaXNfcGxheWluZyA9IGZhbHNlO1xyXG4gICAgdGhpcy5sYXN0X3RpbWVTdGFtcCA9IC0xO1xyXG4gICAgdGhpcy5sYXN0X3RpbWUgPSAtMTtcclxuICAgIHRoaXMudXBkYXRlZCA9IG5ldyBTaWduYWxzLlNpZ25hbCgpO1xyXG4gICAgdGhpcy5wcmVTdGF0dXNDaGFuZ2VkID0gbmV3IFNpZ25hbHMuU2lnbmFsKCk7XHJcbiAgICB0aGlzLnN0YXR1c0NoYW5nZWQgPSBuZXcgU2lnbmFscy5TaWduYWwoKTtcclxuICAgIHRoaXMuZHVyYXRpb25DaGFuZ2VkID0gbmV3IFNpZ25hbHMuU2lnbmFsKCk7XHJcbiAgICB0aGlzLnNlZWtlZCA9IG5ldyBTaWduYWxzLlNpZ25hbCgpO1xyXG4gICAgdGhpcy51cGRhdGUgPSB0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpO1xyXG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnVwZGF0ZSk7XHJcbiAgfVxyXG5cclxuICBnZXRDdXJyZW50VGltZSgpIHtcclxuICAgIHJldHVybiB0aGlzLnRpbWVbMF07XHJcbiAgfVxyXG5cclxuICBnZXREdXJhdGlvbigpIHtcclxuICAgIHJldHVybiB0aGlzLnRvdGFsRHVyYXRpb24gLyAxMDAwO1xyXG4gIH1cclxuXHJcbiAgc2V0RHVyYXRpb24oc2Vjb25kcykge1xyXG4gICAgdGhpcy50b3RhbER1cmF0aW9uID0gc2Vjb25kcyAqIDEwMDA7XHJcbiAgICB0aGlzLmR1cmF0aW9uQ2hhbmdlZC5kaXNwYXRjaChzZWNvbmRzKTtcclxuICB9XHJcblxyXG4gIHBsYXkoKSB7XHJcbiAgICB0aGlzLnByZVN0YXR1c0NoYW5nZWQuZGlzcGF0Y2godHJ1ZSk7XHJcbiAgICBzZXRJbW1lZGlhdGUoKCkgPT4ge1xyXG4gICAgICB0aGlzLmlzX3BsYXlpbmcgPSB0cnVlO1xyXG4gICAgICB0aGlzLnN0YXR1c0NoYW5nZWQuZGlzcGF0Y2godGhpcy5pc19wbGF5aW5nKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc3RvcCgpIHtcclxuICAgIHRoaXMucHJlU3RhdHVzQ2hhbmdlZC5kaXNwYXRjaChmYWxzZSk7XHJcbiAgICBzZXRJbW1lZGlhdGUoKCkgPT4ge1xyXG4gICAgICB0aGlzLmlzX3BsYXlpbmcgPSBmYWxzZTtcclxuICAgICAgdGhpcy5zdGF0dXNDaGFuZ2VkLmRpc3BhdGNoKHRoaXMuaXNfcGxheWluZyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHRvZ2dsZSgpIHtcclxuICAgIHRoaXMucHJlU3RhdHVzQ2hhbmdlZC5kaXNwYXRjaCghdGhpcy5pc19wbGF5aW5nKTtcclxuICAgIHNldEltbWVkaWF0ZSgoKSA9PiB7XHJcbiAgICAgIHRoaXMuaXNfcGxheWluZyA9ICF0aGlzLmlzX3BsYXlpbmc7XHJcbiAgICAgIHRoaXMuc3RhdHVzQ2hhbmdlZC5kaXNwYXRjaCh0aGlzLmlzX3BsYXlpbmcpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzZWVrKHRpbWUpIHtcclxuICAgIHRoaXMudGltZVswXSA9IHRpbWVbMF07XHJcbiAgICB0aGlzLnNlZWtlZC5kaXNwYXRjaCh0aGlzLnRpbWVbMF0pO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlKCkge1xyXG4gICAgLy8gSW5pdCB0aW1lc3RhbXBcclxuXHJcbiAgICAvLyB0aGUgYXJndW1lbnQgdGltZXN0YW1wIGlzIHRvbyBvbGQsIGlmIHdlIGhhdmUgYSBsb25nIHRpbWUgdGFzayBvbiBjbGljayBvblxyXG4gICAgLy8gcGxheSBidXR0b24ncyBjbGljayBoYW5kbGVyLiBzbyByZS1mZXRjaCB0aGUgY3VycmVudCB0aW1lc3RhbXAgaGVyZSBhZ2Fpbi5cclxuICAgIGxldCB0aW1lc3RhbXAgPSBwZXJmb3JtYW5jZS5ub3coKTtcclxuICAgIGlmICh0aGlzLmxhc3RfdGltZVN0YW1wID09PSAtMSkge1xyXG4gICAgICB0aGlzLmxhc3RfdGltZVN0YW1wID0gdGltZXN0YW1wO1xyXG4gICAgfVxyXG4gICAgdmFyIGVsYXBzZWQgPSB0aW1lc3RhbXAgLSB0aGlzLmxhc3RfdGltZVN0YW1wO1xyXG5cclxuICAgIGlmICh0aGlzLmlzX3BsYXlpbmcpIHtcclxuICAgICAgdGhpcy50aW1lWzBdICs9IGVsYXBzZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMudGltZVswXSA+PSB0aGlzLnRvdGFsRHVyYXRpb24pIHtcclxuICAgICAgLy8gU3RvcCB0aW1lciB3aGVuIHJlYWNoaW5nIHRoZSBlbmQuXHJcbiAgICAgIHRoaXMudGltZVswXSA9IHRoaXMudG90YWxEdXJhdGlvbjtcclxuICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy51cGRhdGVkLmRpc3BhdGNoKHRoaXMudGltZVswXSwgdGhpcy5pc19wbGF5aW5nID8gZWxhcHNlZCA6IDApO1xyXG5cclxuICAgIHRoaXMubGFzdF90aW1lU3RhbXAgPSB0aW1lc3RhbXA7XHJcbiAgICB0aGlzLmxhc3RfdGltZSA9IHRoaXMudGltZVswXTtcclxuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy51cGRhdGUpO1xyXG4gIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jb3JlL1RpbWVyLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 3 */
/***/ function(module, exports) {

	eval("module.exports = __WEBPACK_EXTERNAL_MODULE_3__;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wicm9vdFwiOlwic2lnbmFsc1wiLFwiY29tbW9uanNcIjpcInNpZ25hbHNcIixcImNvbW1vbmpzMlwiOlwic2lnbmFsc1wiLFwiYW1kXCI6XCJzaWduYWxzXCJ9PzkwMzgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8zX187XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwge1wicm9vdFwiOlwic2lnbmFsc1wiLFwiY29tbW9uanNcIjpcInNpZ25hbHNcIixcImNvbW1vbmpzMlwiOlwic2lnbmFsc1wiLFwiYW1kXCI6XCJzaWduYWxzXCJ9XG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 4 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Utils = __webpack_require__(1);\n\nvar _Utils2 = _interopRequireDefault(_Utils);\n\nvar _bezierEasing = __webpack_require__(5);\n\nvar _bezierEasing2 = _interopRequireDefault(_bezierEasing);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Signals = __webpack_require__(3);\nvar TweenMax = __webpack_require__(6);\nvar TimelineMax = __webpack_require__(7);\nvar Quad = __webpack_require__(8);\n\nvar Orchestrator = function () {\n  function Orchestrator(timer, data) {\n    _classCallCheck(this, Orchestrator);\n\n    this.update = this.update.bind(this);\n    this.timer = timer;\n    this.data = data;\n    this.mainTimeline = new TimelineMax({ paused: true });\n    this.onUpdate = new Signals.Signal();\n    this.timer.updated.add(this.update);\n    this.update(0);\n    this.onEvent = new Signals.Signal();\n  }\n\n  _createClass(Orchestrator, [{\n    key: 'addUpdateListener',\n    value: function addUpdateListener(listener) {\n      this.onUpdate.add(listener);\n    }\n  }, {\n    key: 'removeUpdateListener',\n    value: function removeUpdateListener(listener) {\n      this.onUpdate.remove(listener);\n    }\n  }, {\n    key: 'setData',\n    value: function setData(data) {\n      this.data = data;\n    }\n  }, {\n    key: 'getTotalDuration',\n    value: function getTotalDuration() {\n      return this.mainTimeline.totalDuration();\n    }\n  }, {\n    key: 'getEasing',\n    value: function getEasing() {\n      var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (key && key.ease) {\n        return _Utils2.default.getEasingPoints(key.ease);\n      }\n      return _Utils2.default.getEasingPoints('Quad.easeOut');\n    }\n  }, {\n    key: 'initSpecialProperties',\n    value: function initSpecialProperties(item) {\n      // Add a dom element for color tweening and other css properties.\n      item._domHelper = document.createElement('div');\n      for (var property_key = 0; property_key < item.properties.length; property_key++) {\n        var property = item.properties[property_key];\n        // Setup special properties\n        if (property.type && property.type === 'color') {\n          // If the property is a color mark it as css\n          property.css = true;\n        }\n\n        if (property.css) {\n          // If property is a css or a color value apply it to the domHelper element.\n          item._domHelper.style[property.name] = property.val;\n        }\n      }\n    }\n  }, {\n    key: 'initItemValues',\n    value: function initItemValues(item) {\n      item.values = {};\n      // item._isDirty = true\n      for (var property_key = 0; property_key < item.properties.length; property_key++) {\n        var property = item.properties[property_key];\n        if (property.keys.length) {\n          // Take the value of the first key as initial value.\n          // this.todo: update this when the value of the first key change. (when rebuilding the timeline, simply delete item.values before item._timeline)\n          property.val = property.keys[0].val;\n        }\n        item.values[property.name] = property.val;\n      }\n    }\n  }, {\n    key: 'update',\n    value: function update(timestamp, elapsed) {\n      var seconds = timestamp / 1000;\n      var seconds_elapsed = elapsed / 1000;\n\n      var has_dirty_items = false;\n\n      for (var i = 0; i < this.data.length; i++) {\n        var item = this.data[i];\n        if (!item._domHelper) {\n          this.initSpecialProperties(item);\n        }\n\n        // create the values object to contain all properties\n        if (!item.values) {\n          this.initItemValues(item);\n        }\n\n        // Create the timeline if needed\n        if (!item._timeline) {\n          item._timeline = new TimelineMax();\n          this.mainTimeline.add(item._timeline, 0);\n          item._isDirty = true;\n        }\n\n        if (item._isDirty) {\n          has_dirty_items = true;\n        }\n\n        if (item._timeline && item._isDirty && item.properties) {\n          item._isDirty = false;\n          // item._timeline.clear();\n\n          for (var property_key = 0; property_key < item.properties.length; property_key++) {\n            var property = item.properties[property_key];\n            if (property._timeline) {\n              property._timeline.clear();\n            } else {\n              property._timeline = new TimelineMax();\n              item._timeline.add(property._timeline, 0);\n            }\n\n            // Add a reference to the parent item for easier reference.\n            if (!property._line) {\n              property._line = item;\n            }\n\n            var propertyTimeline = property._timeline;\n            var propName = property.name;\n\n            // If there is no key stop there and set value to default.\n            if (!property.keys.length) {\n              item.values[property.name] = property.val;\n              continue;\n            }\n\n            // Set the data values target object.\n            var data_target = item.values;\n            // Add a inital key, even if there is no animation to set the value from time 0.\n            var first_key = property.keys[0];\n\n            var tween_time = 0;\n            if (first_key) {\n              tween_time = Math.min(-1, first_key.time - 0.1);\n            }\n\n            var tween_duration = 0;\n            var val = {};\n            var easing = this.getEasing();\n            // Use spread to convert array to multiple arguments.\n            val.ease = _bezierEasing2.default.apply(undefined, _toConsumableArray(easing));\n\n            if (property.css) {\n              data_target = item._domHelper;\n              val.css = {};\n              val.css[propName] = first_key ? first_key.val : property.val;\n            } else {\n              val[propName] = first_key ? first_key.val : property.val;\n            }\n\n            var tween = TweenMax.to(data_target, tween_duration, val);\n            propertyTimeline.add(tween, tween_time);\n\n            for (var key_index = 0; key_index < property.keys.length; key_index++) {\n              var key = property.keys[key_index];\n              // Add a reference to the parent property, allow easier access\n              // without relying on dom order.\n              if (!key._property) {\n                key._property = property;\n              }\n\n              if (key_index < property.keys.length - 1) {\n                var next_key = property.keys[key_index + 1];\n                tween_duration = next_key.time - key.time;\n\n                val = {};\n                easing = this.getEasing(next_key);\n\n                // Use spread to convert array to multiple arguments.\n                val.ease = _bezierEasing2.default.apply(undefined, _toConsumableArray(easing));\n                if (property.css) {\n                  val.css = {};\n                  val.css[propName] = next_key.val;\n                } else {\n                  val[propName] = next_key.val;\n                }\n\n                tween = TweenMax.to(data_target, tween_duration, val);\n                propertyTimeline.add(tween, key.time);\n              }\n            }\n\n            // Directly seek the property timeline to update the value.\n            propertyTimeline.seek(seconds);\n          }\n          // Force main timeline to refresh but never try to go to < 0\n          // to prevent glitches when current time is 0.\n          if (seconds > 0) {\n            seconds = seconds - 0.0000001;\n          } else {\n            seconds = seconds + 0.0000001;\n          }\n        }\n      }\n\n      // Finally update the main timeline.\n      this.mainTimeline.seek(seconds);\n\n      // check if event type property to be fired\n      for (var _i = 0; _i < this.data.length; _i++) {\n        var _item = this.data[_i];\n        for (var _property_key = 0; _property_key < _item.properties.length; _property_key++) {\n          var _property = _item.properties[_property_key];\n          if (_property.type !== 'event') {\n            continue;\n          }\n          for (var _key_index = 0; _key_index < _property.keys.length; _key_index++) {\n            var _key = _property.keys[_key_index];\n            if (seconds_elapsed > 0 && _key.time <= seconds && _key.time > seconds - seconds_elapsed) {\n              this.onEvent.dispatch(_property.name, _key.val);\n            }\n          }\n        }\n      }\n\n      // update the css properties.\n      for (var _i2 = 0; _i2 < this.data.length; _i2++) {\n        var _item2 = this.data[_i2];\n        for (var _property_key2 = 0; _property_key2 < _item2.properties.length; _property_key2++) {\n          var _property2 = _item2.properties[_property_key2];\n          if (_property2.css && _property2.keys.length) {\n            // Only css values.\n            _item2.values[_property2.name] = _item2._domHelper.style[_property2.name];\n          }\n        }\n      }\n\n      if (has_dirty_items) {\n        this.onUpdate.dispatch();\n      }\n    }\n  }]);\n\n  return Orchestrator;\n}();\n\nexports.default = Orchestrator;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb3JlL09yY2hlc3RyYXRvci5qcz81OTQ2Il0sIm5hbWVzIjpbIlNpZ25hbHMiLCJyZXF1aXJlIiwiVHdlZW5NYXgiLCJUaW1lbGluZU1heCIsIlF1YWQiLCJPcmNoZXN0cmF0b3IiLCJ0aW1lciIsImRhdGEiLCJ1cGRhdGUiLCJiaW5kIiwibWFpblRpbWVsaW5lIiwicGF1c2VkIiwib25VcGRhdGUiLCJTaWduYWwiLCJ1cGRhdGVkIiwiYWRkIiwib25FdmVudCIsImxpc3RlbmVyIiwicmVtb3ZlIiwidG90YWxEdXJhdGlvbiIsImtleSIsImVhc2UiLCJnZXRFYXNpbmdQb2ludHMiLCJpdGVtIiwiX2RvbUhlbHBlciIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInByb3BlcnR5X2tleSIsInByb3BlcnRpZXMiLCJsZW5ndGgiLCJwcm9wZXJ0eSIsInR5cGUiLCJjc3MiLCJzdHlsZSIsIm5hbWUiLCJ2YWwiLCJ2YWx1ZXMiLCJrZXlzIiwidGltZXN0YW1wIiwiZWxhcHNlZCIsInNlY29uZHMiLCJzZWNvbmRzX2VsYXBzZWQiLCJoYXNfZGlydHlfaXRlbXMiLCJpIiwiaW5pdFNwZWNpYWxQcm9wZXJ0aWVzIiwiaW5pdEl0ZW1WYWx1ZXMiLCJfdGltZWxpbmUiLCJfaXNEaXJ0eSIsImNsZWFyIiwiX2xpbmUiLCJwcm9wZXJ0eVRpbWVsaW5lIiwicHJvcE5hbWUiLCJkYXRhX3RhcmdldCIsImZpcnN0X2tleSIsInR3ZWVuX3RpbWUiLCJNYXRoIiwibWluIiwidGltZSIsInR3ZWVuX2R1cmF0aW9uIiwiZWFzaW5nIiwiZ2V0RWFzaW5nIiwidHdlZW4iLCJ0byIsImtleV9pbmRleCIsIl9wcm9wZXJ0eSIsIm5leHRfa2V5Iiwic2VlayIsImRpc3BhdGNoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUtBOzs7O0FBQ0E7Ozs7Ozs7Ozs7QUFOQSxJQUFJQSxVQUFVLG1CQUFBQyxDQUFRLENBQVIsQ0FBZDtBQUNBLElBQUlDLFdBQVcsbUJB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QUFJUSxNQUFJLENBQWIsRUFBZ0JBLE1BQUksS0FBS3BDLElBQUwsQ0FBVXNCLE1BQTlCLEVBQXNDYyxLQUF0QyxFQUEyQztBQUN6QyxZQUFJcEIsU0FBTyxLQUFLaEIsSUFBTCxDQUFVb0MsR0FBVixDQUFYO0FBQ0EsYUFBSyxJQUFJaEIsaUJBQWUsQ0FBeEIsRUFBMkJBLGlCQUFlSixPQUFLSyxVQUFMLENBQWdCQyxNQUExRCxFQUFrRUYsZ0JBQWxFLEVBQWtGO0FBQ2hGLGNBQUlHLGFBQVdQLE9BQUtLLFVBQUwsQ0FBZ0JELGNBQWhCLENBQWY7QUFDQSxjQUFJRyxXQUFTRSxHQUFULElBQWdCRixXQUFTTyxJQUFULENBQWNSLE1BQWxDLEVBQTBDO0FBQ3hDO0FBQ0FOLG1CQUFLYSxNQUFMLENBQVlOLFdBQVNJLElBQXJCLElBQTZCWCxPQUFLQyxVQUFMLENBQWdCUyxLQUFoQixDQUFzQkgsV0FBU0ksSUFBL0IsQ0FBN0I7QUFDRDtBQUNGO0FBQ0Y7O0FBRUQsVUFBSVEsZUFBSixFQUFxQjtBQUNuQixhQUFLOUIsUUFBTCxDQUFjdUQsUUFBZDtBQUNEO0FBQ0Y7Ozs7OztrQkF0T2tCOUQsWSIsImZpbGUiOiI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IFNpZ25hbHMgPSByZXF1aXJlKCdqcy1zaWduYWxzJyk7XHJcbmxldCBUd2Vlbk1heCA9IHJlcXVpcmUoJ1R3ZWVuTWF4Jyk7XHJcbmxldCBUaW1lbGluZU1heCA9IHJlcXVpcmUoJ1RpbWVsaW5lTWF4Jyk7XHJcbmxldCBRdWFkID0gcmVxdWlyZSgnUXVhZCcpO1xyXG5cclxuaW1wb3J0IFV0aWxzIGZyb20gJy4vVXRpbHMnO1xyXG5pbXBvcnQgQmV6aWVyRWFzaW5nIGZyb20gJ2Jlemllci1lYXNpbmcnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3JjaGVzdHJhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcih0aW1lciwgZGF0YSkge1xyXG4gICAgdGhpcy51cGRhdGUgPSB0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy50aW1lciA9IHRpbWVyO1xyXG4gICAgdGhpcy5kYXRhID0gZGF0YTtcclxuICAgIHRoaXMubWFpblRpbWVsaW5lID0gbmV3IFRpbWVsaW5lTWF4KHtwYXVzZWQ6IHRydWV9KTtcclxuICAgIHRoaXMub25VcGRhdGUgPSBuZXcgU2lnbmFscy5TaWduYWwoKTtcclxuICAgIHRoaXMudGltZXIudXBkYXRlZC5hZGQodGhpcy51cGRhdGUpO1xyXG4gICAgdGhpcy51cGRhdGUoMCk7XHJcbiAgICB0aGlzLm9uRXZlbnQgPSBuZXcgU2lnbmFscy5TaWduYWwoKTtcclxuICB9XHJcblxyXG4gIGFkZFVwZGF0ZUxpc3RlbmVyKGxpc3RlbmVyKSB7XHJcbiAgICB0aGlzLm9uVXBkYXRlLmFkZChsaXN0ZW5lcik7XHJcbiAgfVxyXG5cclxuICByZW1vdmVVcGRhdGVMaXN0ZW5lcihsaXN0ZW5lcikge1xyXG4gICAgdGhpcy5vblVwZGF0ZS5yZW1vdmUobGlzdGVuZXIpO1xyXG4gIH1cclxuXHJcbiAgc2V0RGF0YShkYXRhKSB7XHJcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xyXG4gIH1cclxuXHJcbiAgZ2V0VG90YWxEdXJhdGlvbigpIHtcclxuICAgIHJldHVybiB0aGlzLm1haW5UaW1lbGluZS50b3RhbER1cmF0aW9uKCk7XHJcbiAgfVxyXG5cclxuICBnZXRFYXNpbmcoa2V5ID0gZmFsc2UpIHtcclxuICAgIGlmIChrZXkgJiYga2V5LmVhc2UpIHtcclxuICAgICAgcmV0dXJuIFV0aWxzLmdldEVhc2luZ1BvaW50cyhrZXkuZWFzZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gVXRpbHMuZ2V0RWFzaW5nUG9pbnRzKCdRdWFkLmVhc2VPdXQnKTtcclxuICB9XHJcblxyXG4gIGluaXRTcGVjaWFsUHJvcGVydGllcyhpdGVtKSB7XHJcbiAgICAvLyBBZGQgYSBkb20gZWxlbWVudCBmb3IgY29sb3IgdHdlZW5pbmcgYW5kIG90aGVyIGNzcyBwcm9wZXJ0aWVzLlxyXG4gICAgaXRlbS5fZG9tSGVscGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBmb3IgKHZhciBwcm9wZXJ0eV9rZXkgPSAwOyBwcm9wZXJ0eV9rZXkgPCBpdGVtLnByb3BlcnRpZXMubGVuZ3RoOyBwcm9wZXJ0eV9rZXkrKykge1xyXG4gICAgICB2YXIgcHJvcGVydHkgPSBpdGVtLnByb3BlcnRpZXNbcHJvcGVydHlfa2V5XTtcclxuICAgICAgLy8gU2V0dXAgc3BlY2lhbCBwcm9wZXJ0aWVzXHJcbiAgICAgIGlmIChwcm9wZXJ0eS50eXBlICYmIHByb3BlcnR5LnR5cGUgPT09ICdjb2xvcicpIHtcclxuICAgICAgICAvLyBJZiB0aGUgcHJvcGVydHkgaXMgYSBjb2xvciBtYXJrIGl0IGFzIGNzc1xyXG4gICAgICAgIHByb3BlcnR5LmNzcyA9IHRydWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChwcm9wZXJ0eS5jc3MpIHtcclxuICAgICAgICAvLyBJZiBwcm9wZXJ0eSBpcyBhIGNzcyBvciBhIGNvbG9yIHZhbHVlIGFwcGx5IGl0IHRvIHRoZSBkb21IZWxwZXIgZWxlbWVudC5cclxuICAgICAgICBpdGVtLl9kb21IZWxwZXIuc3R5bGVbcHJvcGVydHkubmFtZV0gPSBwcm9wZXJ0eS52YWw7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGluaXRJdGVtVmFsdWVzKGl0ZW0pIHtcclxuICAgIGl0ZW0udmFsdWVzID0ge307XHJcbiAgICAvLyBpdGVtLl9pc0RpcnR5ID0gdHJ1ZVxyXG4gICAgZm9yICh2YXIgcHJvcGVydHlfa2V5ID0gMDsgcHJvcGVydHlfa2V5IDwgaXRlbS5wcm9wZXJ0aWVzLmxlbmd0aDsgcHJvcGVydHlfa2V5KyspIHtcclxuICAgICAgdmFyIHByb3BlcnR5ID0gaXRlbS5wcm9wZXJ0aWVzW3Byb3BlcnR5X2tleV07XHJcbiAgICAgIGlmIChwcm9wZXJ0eS5rZXlzLmxlbmd0aCkge1xyXG4gICAgICAgIC8vIFRha2UgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBrZXkgYXMgaW5pdGlhbCB2YWx1ZS5cclxuICAgICAgICAvLyB0aGlzLnRvZG86IHVwZGF0ZSB0aGlzIHdoZW4gdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBrZXkgY2hhbmdlLiAod2hlbiByZWJ1aWxkaW5nIHRoZSB0aW1lbGluZSwgc2ltcGx5IGRlbGV0ZSBpdGVtLnZhbHVlcyBiZWZvcmUgaXRlbS5fdGltZWxpbmUpXHJcbiAgICAgICAgcHJvcGVydHkudmFsID0gcHJvcGVydHkua2V5c1swXS52YWw7XHJcbiAgICAgIH1cclxuICAgICAgaXRlbS52YWx1ZXNbcHJvcGVydHkubmFtZV0gPSBwcm9wZXJ0eS52YWw7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB1cGRhdGUodGltZXN0YW1wLCBlbGFwc2VkKSB7XHJcbiAgICB2YXIgc2Vjb25kcyA9IHRpbWVzdGFtcCAvIDEwMDA7XHJcbiAgICB2YXIgc2Vjb25kc19lbGFwc2VkID0gZWxhcHNlZCAvIDEwMDA7XHJcblxyXG4gICAgdmFyIGhhc19kaXJ0eV9pdGVtcyA9IGZhbHNlO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGxldCBpdGVtID0gdGhpcy5kYXRhW2ldO1xyXG4gICAgICBpZiAoIWl0ZW0uX2RvbUhlbHBlcikge1xyXG4gICAgICAgIHRoaXMuaW5pdFNwZWNpYWxQcm9wZXJ0aWVzKGl0ZW0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBjcmVhdGUgdGhlIHZhbHVlcyBvYmplY3QgdG8gY29udGFpbiBhbGwgcHJvcGVydGllc1xyXG4gICAgICBpZiAoIWl0ZW0udmFsdWVzKSB7XHJcbiAgICAgICAgdGhpcy5pbml0SXRlbVZhbHVlcyhpdGVtKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ3JlYXRlIHRoZSB0aW1lbGluZSBpZiBuZWVkZWRcclxuICAgICAgaWYgKCFpdGVtLl90aW1lbGluZSkge1xyXG4gICAgICAgIGl0ZW0uX3RpbWVsaW5lID0gbmV3IFRpbWVsaW5lTWF4KCk7XHJcbiAgICAgICAgdGhpcy5tYWluVGltZWxpbmUuYWRkKGl0ZW0uX3RpbWVsaW5lLCAwKTtcclxuICAgICAgICBpdGVtLl9pc0RpcnR5ID0gdHJ1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGl0ZW0uX2lzRGlydHkpIHtcclxuICAgICAgICBoYXNfZGlydHlfaXRlbXMgPSB0cnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoaXRlbS5fdGltZWxpbmUgJiYgaXRlbS5faXNEaXJ0eSAmJiBpdGVtLnByb3BlcnRpZXMpIHtcclxuICAgICAgICBpdGVtLl9pc0RpcnR5ID0gZmFsc2U7XHJcbiAgICAgICAgLy8gaXRlbS5fdGltZWxpbmUuY2xlYXIoKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgcHJvcGVydHlfa2V5ID0gMDsgcHJvcGVydHlfa2V5IDwgaXRlbS5wcm9wZXJ0aWVzLmxlbmd0aDsgcHJvcGVydHlfa2V5KyspIHtcclxuICAgICAgICAgIGxldCBwcm9wZXJ0eSA9IGl0ZW0ucHJvcGVydGllc1twcm9wZXJ0eV9rZXldO1xyXG4gICAgICAgICAgaWYgKHByb3BlcnR5Ll90aW1lbGluZSkge1xyXG4gICAgICAgICAgICBwcm9wZXJ0eS5fdGltZWxpbmUuY2xlYXIoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwcm9wZXJ0eS5fdGltZWxpbmUgPSBuZXcgVGltZWxpbmVNYXgoKTtcclxuICAgICAgICAgICAgaXRlbS5fdGltZWxpbmUuYWRkKHByb3BlcnR5Ll90aW1lbGluZSwgMCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gQWRkIGEgcmVmZXJlbmNlIHRvIHRoZSBwYXJlbnQgaXRlbSBmb3IgZWFzaWVyIHJlZmVyZW5jZS5cclxuICAgICAgICAgIGlmICghcHJvcGVydHkuX2xpbmUpIHtcclxuICAgICAgICAgICAgcHJvcGVydHkuX2xpbmUgPSBpdGVtO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHZhciBwcm9wZXJ0eVRpbWVsaW5lID0gcHJvcGVydHkuX3RpbWVsaW5lO1xyXG4gICAgICAgICAgdmFyIHByb3BOYW1lID0gcHJvcGVydHkubmFtZTtcclxuXHJcbiAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBrZXkgc3RvcCB0aGVyZSBhbmQgc2V0IHZhbHVlIHRvIGRlZmF1bHQuXHJcbiAgICAgICAgICBpZiAoIXByb3BlcnR5LmtleXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGl0ZW0udmFsdWVzW3Byb3BlcnR5Lm5hbWVdID0gcHJvcGVydHkudmFsO1xyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBTZXQgdGhlIGRhdGEgdmFsdWVzIHRhcmdldCBvYmplY3QuXHJcbiAgICAgICAgICB2YXIgZGF0YV90YXJnZXQgPSBpdGVtLnZhbHVlcztcclxuICAgICAgICAgIC8vIEFkZCBhIGluaXRhbCBrZXksIGV2ZW4gaWYgdGhlcmUgaXMgbm8gYW5pbWF0aW9uIHRvIHNldCB0aGUgdmFsdWUgZnJvbSB0aW1lIDAuXHJcbiAgICAgICAgICB2YXIgZmlyc3Rfa2V5ID0gcHJvcGVydHkua2V5c1swXTtcclxuXHJcbiAgICAgICAgICB2YXIgdHdlZW5fdGltZSA9IDA7XHJcbiAgICAgICAgICBpZiAoZmlyc3Rfa2V5KSB7XHJcbiAgICAgICAgICAgIHR3ZWVuX3RpbWUgPSBNYXRoLm1pbigtMSwgZmlyc3Rfa2V5LnRpbWUgLSAwLjEpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHZhciB0d2Vlbl9kdXJhdGlvbiA9IDA7XHJcbiAgICAgICAgICB2YXIgdmFsID0ge307XHJcbiAgICAgICAgICB2YXIgZWFzaW5nID0gdGhpcy5nZXRFYXNpbmcoKTtcclxuICAgICAgICAgIC8vIFVzZSBzcHJlYWQgdG8gY29udmVydCBhcnJheSB0byBtdWx0aXBsZSBhcmd1bWVudHMuXHJcbiAgICAgICAgICB2YWwuZWFzZSA9IEJlemllckVhc2luZyguLi5lYXNpbmcpO1xyXG5cclxuICAgICAgICAgIGlmIChwcm9wZXJ0eS5jc3MpIHtcclxuICAgICAgICAgICAgZGF0YV90YXJnZXQgPSBpdGVtLl9kb21IZWxwZXI7XHJcbiAgICAgICAgICAgIHZhbC5jc3MgPSB7fTtcclxuICAgICAgICAgICAgdmFsLmNzc1twcm9wTmFtZV0gPSBmaXJzdF9rZXkgPyBmaXJzdF9rZXkudmFsIDogcHJvcGVydHkudmFsO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhbFtwcm9wTmFtZV0gPSBmaXJzdF9rZXkgPyBmaXJzdF9rZXkudmFsIDogcHJvcGVydHkudmFsO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHZhciB0d2VlbiA9IFR3ZWVuTWF4LnRvKGRhdGFfdGFyZ2V0LCB0d2Vlbl9kdXJhdGlvbiwgdmFsKTtcclxuICAgICAgICAgIHByb3BlcnR5VGltZWxpbmUuYWRkKHR3ZWVuLCB0d2Vlbl90aW1lKTtcclxuXHJcbiAgICAgICAgICBmb3IgKGxldCBrZXlfaW5kZXggPSAwOyBrZXlfaW5kZXggPCBwcm9wZXJ0eS5rZXlzLmxlbmd0aDsga2V5X2luZGV4KyspIHtcclxuICAgICAgICAgICAgbGV0IGtleSA9IHByb3BlcnR5LmtleXNba2V5X2luZGV4XTtcclxuICAgICAgICAgICAgLy8gQWRkIGEgcmVmZXJlbmNlIHRvIHRoZSBwYXJlbnQgcHJvcGVydHksIGFsbG93IGVhc2llciBhY2Nlc3NcclxuICAgICAgICAgICAgLy8gd2l0aG91dCByZWx5aW5nIG9uIGRvbSBvcmRlci5cclxuICAgICAgICAgICAgaWYgKCFrZXkuX3Byb3BlcnR5KSB7XHJcbiAgICAgICAgICAgICAga2V5Ll9wcm9wZXJ0eSA9IHByb3BlcnR5O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoa2V5X2luZGV4IDwgcHJvcGVydHkua2V5cy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgdmFyIG5leHRfa2V5ID0gcHJvcGVydHkua2V5c1trZXlfaW5kZXggKyAxXTtcclxuICAgICAgICAgICAgICB0d2Vlbl9kdXJhdGlvbiA9IG5leHRfa2V5LnRpbWUgLSBrZXkudGltZTtcclxuXHJcbiAgICAgICAgICAgICAgdmFsID0ge307XHJcbiAgICAgICAgICAgICAgZWFzaW5nID0gdGhpcy5nZXRFYXNpbmcobmV4dF9rZXkpO1xyXG5cclxuICAgICAgICAgICAgICAvLyBVc2Ugc3ByZWFkIHRvIGNvbnZlcnQgYXJyYXkgdG8gbXVsdGlwbGUgYXJndW1lbnRzLlxyXG4gICAgICAgICAgICAgIHZhbC5lYXNlID0gQmV6aWVyRWFzaW5nKC4uLmVhc2luZyk7XHJcbiAgICAgICAgICAgICAgaWYgKHByb3BlcnR5LmNzcykge1xyXG4gICAgICAgICAgICAgICAgdmFsLmNzcyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgdmFsLmNzc1twcm9wTmFtZV0gPSBuZXh0X2tleS52YWw7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFsW3Byb3BOYW1lXSA9IG5leHRfa2V5LnZhbDtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIHR3ZWVuID0gVHdlZW5NYXgudG8oZGF0YV90YXJnZXQsIHR3ZWVuX2R1cmF0aW9uLCB2YWwpO1xyXG4gICAgICAgICAgICAgIHByb3BlcnR5VGltZWxpbmUuYWRkKHR3ZWVuLCBrZXkudGltZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBEaXJlY3RseSBzZWVrIHRoZSBwcm9wZXJ0eSB0aW1lbGluZSB0byB1cGRhdGUgdGhlIHZhbHVlLlxyXG4gICAgICAgICAgcHJvcGVydHlUaW1lbGluZS5zZWVrKHNlY29uZHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBGb3JjZSBtYWluIHRpbWVsaW5lIHRvIHJlZnJlc2ggYnV0IG5ldmVyIHRyeSB0byBnbyB0byA8IDBcclxuICAgICAgICAvLyB0byBwcmV2ZW50IGdsaXRjaGVzIHdoZW4gY3VycmVudCB0aW1lIGlzIDAuXHJcbiAgICAgICAgaWYgKHNlY29uZHMgPiAwKSB7XHJcbiAgICAgICAgICBzZWNvbmRzID0gc2Vjb25kcyAtIDAuMDAwMDAwMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBzZWNvbmRzID0gc2Vjb25kcyArIDAuMDAwMDAwMTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBGaW5hbGx5IHVwZGF0ZSB0aGUgbWFpbiB0aW1lbGluZS5cclxuICAgIHRoaXMubWFpblRpbWVsaW5lLnNlZWsoc2Vjb25kcyk7XHJcblxyXG4gICAgLy8gY2hlY2sgaWYgZXZlbnQgdHlwZSBwcm9wZXJ0eSB0byBiZSBmaXJlZFxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgbGV0IGl0ZW0gPSB0aGlzLmRhdGFbaV07XHJcbiAgICAgIGZvciAobGV0IHByb3BlcnR5X2tleSA9IDA7IHByb3BlcnR5X2tleSA8IGl0ZW0ucHJvcGVydGllcy5sZW5ndGg7IHByb3BlcnR5X2tleSsrKSB7XHJcbiAgICAgICAgbGV0IHByb3BlcnR5ID0gaXRlbS5wcm9wZXJ0aWVzW3Byb3BlcnR5X2tleV07XHJcbiAgICAgICAgaWYgKHByb3BlcnR5LnR5cGUgIT09ICdldmVudCcpIHtcclxuICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBrZXlfaW5kZXggPSAwOyBrZXlfaW5kZXggPCBwcm9wZXJ0eS5rZXlzLmxlbmd0aDsga2V5X2luZGV4KyspIHtcclxuICAgICAgICAgIGxldCBrZXkgPSBwcm9wZXJ0eS5rZXlzW2tleV9pbmRleF07XHJcbiAgICAgICAgICBpZiAoc2Vjb25kc19lbGFwc2VkID4gMCAmJiBrZXkudGltZSA8PSBzZWNvbmRzICYmIGtleS50aW1lID4gc2Vjb25kcyAtIHNlY29uZHNfZWxhcHNlZCkge1xyXG4gICAgICAgICAgICB0aGlzLm9uRXZlbnQuZGlzcGF0Y2gocHJvcGVydHkubmFtZSwga2V5LnZhbCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdXBkYXRlIHRoZSBjc3MgcHJvcGVydGllcy5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGxldCBpdGVtID0gdGhpcy5kYXRhW2ldO1xyXG4gICAgICBmb3IgKGxldCBwcm9wZXJ0eV9rZXkgPSAwOyBwcm9wZXJ0eV9rZXkgPCBpdGVtLnByb3BlcnRpZXMubGVuZ3RoOyBwcm9wZXJ0eV9rZXkrKykge1xyXG4gICAgICAgIGxldCBwcm9wZXJ0eSA9IGl0ZW0ucHJvcGVydGllc1twcm9wZXJ0eV9rZXldO1xyXG4gICAgICAgIGlmIChwcm9wZXJ0eS5jc3MgJiYgcHJvcGVydHkua2V5cy5sZW5ndGgpIHtcclxuICAgICAgICAgIC8vIE9ubHkgY3NzIHZhbHVlcy5cclxuICAgICAgICAgIGl0ZW0udmFsdWVzW3Byb3BlcnR5Lm5hbWVdID0gaXRlbS5fZG9tSGVscGVyLnN0eWxlW3Byb3BlcnR5Lm5hbWVdO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChoYXNfZGlydHlfaXRlbXMpIHtcclxuICAgICAgdGhpcy5vblVwZGF0ZS5kaXNwYXRjaCgpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jb3JlL09yY2hlc3RyYXRvci5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 5 */
/***/ function(module, exports) {

	eval("/**\n * https://github.com/gre/bezier-easing\n * BezierEasing - use bezier curve for transition easing function\n * by Gaëtan Renaudeau 2014 - 2015 – MIT License\n */\n\n// These values are established by empiricism with tests (tradeoff: performance VS precision)\nvar NEWTON_ITERATIONS = 4;\nvar NEWTON_MIN_SLOPE = 0.001;\nvar SUBDIVISION_PRECISION = 0.0000001;\nvar SUBDIVISION_MAX_ITERATIONS = 10;\n\nvar kSplineTableSize = 11;\nvar kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\nvar float32ArraySupported = typeof Float32Array === 'function';\n\nfunction A (aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1; }\nfunction B (aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1; }\nfunction C (aA1)      { return 3.0 * aA1; }\n\n// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\nfunction calcBezier (aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT; }\n\n// Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\nfunction getSlope (aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1); }\n\nfunction binarySubdivide (aX, aA, aB, mX1, mX2) {\n  var currentX, currentT, i = 0;\n  do {\n    currentT = aA + (aB - aA) / 2.0;\n    currentX = calcBezier(currentT, mX1, mX2) - aX;\n    if (currentX > 0.0) {\n      aB = currentT;\n    } else {\n      aA = currentT;\n    }\n  } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n  return currentT;\n}\n\nfunction newtonRaphsonIterate (aX, aGuessT, mX1, mX2) {\n for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\n   var currentSlope = getSlope(aGuessT, mX1, mX2);\n   if (currentSlope === 0.0) {\n     return aGuessT;\n   }\n   var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n   aGuessT -= currentX / currentSlope;\n }\n return aGuessT;\n}\n\nmodule.exports = function bezier (mX1, mY1, mX2, mY2) {\n  if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) {\n    throw new Error('bezier x values must be in [0, 1] range');\n  }\n\n  // Precompute samples table\n  var sampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n  if (mX1 !== mY1 || mX2 !== mY2) {\n    for (var i = 0; i < kSplineTableSize; ++i) {\n      sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n    }\n  }\n\n  function getTForX (aX) {\n    var intervalStart = 0.0;\n    var currentSample = 1;\n    var lastSample = kSplineTableSize - 1;\n\n    for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n      intervalStart += kSampleStepSize;\n    }\n    --currentSample;\n\n    // Interpolate to provide an initial guess for t\n    var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n    var guessForT = intervalStart + dist * kSampleStepSize;\n\n    var initialSlope = getSlope(guessForT, mX1, mX2);\n    if (initialSlope >= NEWTON_MIN_SLOPE) {\n      return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n    } else if (initialSlope === 0.0) {\n      return guessForT;\n    } else {\n      return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n    }\n  }\n\n  return function BezierEasing (x) {\n    if (mX1 === mY1 && mX2 === mY2) {\n      return x; // linear\n    }\n    // Because JavaScript number are imprecise, we should guarantee the extremes are right.\n    if (x === 0) {\n      return 0;\n    }\n    if (x === 1) {\n      return 1;\n    }\n    return calcBezier(getTForX(x), mY1, mY2);\n  };\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQzovRGV2ZWxvcG1lbnQvQUNFLVR3ZWVuVGltZS9+L2Jlemllci1lYXNpbmcvc3JjL2luZGV4LmpzPzc1MmMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUEsdUJBQXVCLG9DQUFvQztBQUMzRCx1QkFBdUIsOEJBQThCO0FBQ3JELHVCQUF1QixrQkFBa0I7O0FBRXpDO0FBQ0Esb0NBQW9DLDhEQUE4RDs7QUFFbEc7QUFDQSxrQ0FBa0Msc0VBQXNFOztBQUV4RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQSxnQkFBZ0IsdUJBQXVCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsc0JBQXNCO0FBQ3pDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxVQUFVLG1FQUFtRTtBQUM3RTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ncmUvYmV6aWVyLWVhc2luZ1xuICogQmV6aWVyRWFzaW5nIC0gdXNlIGJlemllciBjdXJ2ZSBmb3IgdHJhbnNpdGlvbiBlYXNpbmcgZnVuY3Rpb25cbiAqIGJ5IEdhw6t0YW4gUmVuYXVkZWF1IDIwMTQgLSAyMDE1IOKAkyBNSVQgTGljZW5zZVxuICovXG5cbi8vIFRoZXNlIHZhbHVlcyBhcmUgZXN0YWJsaXNoZWQgYnkgZW1waXJpY2lzbSB3aXRoIHRlc3RzICh0cmFkZW9mZjogcGVyZm9ybWFuY2UgVlMgcHJlY2lzaW9uKVxudmFyIE5FV1RPTl9JVEVSQVRJT05TID0gNDtcbnZhciBORVdUT05fTUlOX1NMT1BFID0gMC4wMDE7XG52YXIgU1VCRElWSVNJT05fUFJFQ0lTSU9OID0gMC4wMDAwMDAxO1xudmFyIFNVQkRJVklTSU9OX01BWF9JVEVSQVRJT05TID0gMTA7XG5cbnZhciBrU3BsaW5lVGFibGVTaXplID0gMTE7XG52YXIga1NhbXBsZVN0ZXBTaXplID0gMS4wIC8gKGtTcGxpbmVUYWJsZVNpemUgLSAxLjApO1xuXG52YXIgZmxvYXQzMkFycmF5U3VwcG9ydGVkID0gdHlwZW9mIEZsb2F0MzJBcnJheSA9PT0gJ2Z1bmN0aW9uJztcblxuZnVuY3Rpb24gQSAoYUExLCBhQTIpIHsgcmV0dXJuIDEuMCAtIDMuMCAqIGFBMiArIDMuMCAqIGFBMTsgfVxuZnVuY3Rpb24gQiAoYUExLCBhQTIpIHsgcmV0dXJuIDMuMCAqIGFBMiAtIDYuMCAqIGFBMTsgfVxuZnVuY3Rpb24gQyAoYUExKSAgICAgIHsgcmV0dXJuIDMuMCAqIGFBMTsgfVxuXG4vLyBSZXR1cm5zIHgodCkgZ2l2ZW4gdCwgeDEsIGFuZCB4Miwgb3IgeSh0KSBnaXZlbiB0LCB5MSwgYW5kIHkyLlxuZnVuY3Rpb24gY2FsY0JlemllciAoYVQsIGFBMSwgYUEyKSB7IHJldHVybiAoKEEoYUExLCBhQTIpICogYVQgKyBCKGFBMSwgYUEyKSkgKiBhVCArIEMoYUExKSkgKiBhVDsgfVxuXG4vLyBSZXR1cm5zIGR4L2R0IGdpdmVuIHQsIHgxLCBhbmQgeDIsIG9yIGR5L2R0IGdpdmVuIHQsIHkxLCBhbmQgeTIuXG5mdW5jdGlvbiBnZXRTbG9wZSAoYVQsIGFBMSwgYUEyKSB7IHJldHVybiAzLjAgKiBBKGFBMSwgYUEyKSAqIGFUICogYVQgKyAyLjAgKiBCKGFBMSwgYUEyKSAqIGFUICsgQyhhQTEpOyB9XG5cbmZ1bmN0aW9uIGJpbmFyeVN1YmRpdmlkZSAoYVgsIGFBLCBhQiwgbVgxLCBtWDIpIHtcbiAgdmFyIGN1cnJlbnRYLCBjdXJyZW50VCwgaSA9IDA7XG4gIGRvIHtcbiAgICBjdXJyZW50VCA9IGFBICsgKGFCIC0gYUEpIC8gMi4wO1xuICAgIGN1cnJlbnRYID0gY2FsY0JlemllcihjdXJyZW50VCwgbVgxLCBtWDIpIC0gYVg7XG4gICAgaWYgKGN1cnJlbnRYID4gMC4wKSB7XG4gICAgICBhQiA9IGN1cnJlbnRUO1xuICAgIH0gZWxzZSB7XG4gICAgICBhQSA9IGN1cnJlbnRUO1xuICAgIH1cbiAgfSB3aGlsZSAoTWF0aC5hYnMoY3VycmVudFgpID4gU1VCRElWSVNJT05fUFJFQ0lTSU9OICYmICsraSA8IFNVQkRJVklTSU9OX01BWF9JVEVSQVRJT05TKTtcbiAgcmV0dXJuIGN1cnJlbnRUO1xufVxuXG5mdW5jdGlvbiBuZXd0b25SYXBoc29uSXRlcmF0ZSAoYVgsIGFHdWVzc1QsIG1YMSwgbVgyKSB7XG4gZm9yICh2YXIgaSA9IDA7IGkgPCBORVdUT05fSVRFUkFUSU9OUzsgKytpKSB7XG4gICB2YXIgY3VycmVudFNsb3BlID0gZ2V0U2xvcGUoYUd1ZXNzVCwgbVgxLCBtWDIpO1xuICAgaWYgKGN1cnJlbnRTbG9wZSA9PT0gMC4wKSB7XG4gICAgIHJldHVybiBhR3Vlc3NUO1xuICAgfVxuICAgdmFyIGN1cnJlbnRYID0gY2FsY0JlemllcihhR3Vlc3NULCBtWDEsIG1YMikgLSBhWDtcbiAgIGFHdWVzc1QgLT0gY3VycmVudFggLyBjdXJyZW50U2xvcGU7XG4gfVxuIHJldHVybiBhR3Vlc3NUO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJlemllciAobVgxLCBtWTEsIG1YMiwgbVkyKSB7XG4gIGlmICghKDAgPD0gbVgxICYmIG1YMSA8PSAxICYmIDAgPD0gbVgyICYmIG1YMiA8PSAxKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignYmV6aWVyIHggdmFsdWVzIG11c3QgYmUgaW4gWzAsIDFdIHJhbmdlJyk7XG4gIH1cblxuICAvLyBQcmVjb21wdXRlIHNhbXBsZXMgdGFibGVcbiAgdmFyIHNhbXBsZVZhbHVlcyA9IGZsb2F0MzJBcnJheVN1cHBvcnRlZCA/IG5ldyBGbG9hdDMyQXJyYXkoa1NwbGluZVRhYmxlU2l6ZSkgOiBuZXcgQXJyYXkoa1NwbGluZVRhYmxlU2l6ZSk7XG4gIGlmIChtWDEgIT09IG1ZMSB8fCBtWDIgIT09IG1ZMikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga1NwbGluZVRhYmxlU2l6ZTsgKytpKSB7XG4gICAgICBzYW1wbGVWYWx1ZXNbaV0gPSBjYWxjQmV6aWVyKGkgKiBrU2FtcGxlU3RlcFNpemUsIG1YMSwgbVgyKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRURm9yWCAoYVgpIHtcbiAgICB2YXIgaW50ZXJ2YWxTdGFydCA9IDAuMDtcbiAgICB2YXIgY3VycmVudFNhbXBsZSA9IDE7XG4gICAgdmFyIGxhc3RTYW1wbGUgPSBrU3BsaW5lVGFibGVTaXplIC0gMTtcblxuICAgIGZvciAoOyBjdXJyZW50U2FtcGxlICE9PSBsYXN0U2FtcGxlICYmIHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlXSA8PSBhWDsgKytjdXJyZW50U2FtcGxlKSB7XG4gICAgICBpbnRlcnZhbFN0YXJ0ICs9IGtTYW1wbGVTdGVwU2l6ZTtcbiAgICB9XG4gICAgLS1jdXJyZW50U2FtcGxlO1xuXG4gICAgLy8gSW50ZXJwb2xhdGUgdG8gcHJvdmlkZSBhbiBpbml0aWFsIGd1ZXNzIGZvciB0XG4gICAgdmFyIGRpc3QgPSAoYVggLSBzYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZV0pIC8gKHNhbXBsZVZhbHVlc1tjdXJyZW50U2FtcGxlICsgMV0gLSBzYW1wbGVWYWx1ZXNbY3VycmVudFNhbXBsZV0pO1xuICAgIHZhciBndWVzc0ZvclQgPSBpbnRlcnZhbFN0YXJ0ICsgZGlzdCAqIGtTYW1wbGVTdGVwU2l6ZTtcblxuICAgIHZhciBpbml0aWFsU2xvcGUgPSBnZXRTbG9wZShndWVzc0ZvclQsIG1YMSwgbVgyKTtcbiAgICBpZiAoaW5pdGlhbFNsb3BlID49IE5FV1RPTl9NSU5fU0xPUEUpIHtcbiAgICAgIHJldHVybiBuZXd0b25SYXBoc29uSXRlcmF0ZShhWCwgZ3Vlc3NGb3JULCBtWDEsIG1YMik7XG4gICAgfSBlbHNlIGlmIChpbml0aWFsU2xvcGUgPT09IDAuMCkge1xuICAgICAgcmV0dXJuIGd1ZXNzRm9yVDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGJpbmFyeVN1YmRpdmlkZShhWCwgaW50ZXJ2YWxTdGFydCwgaW50ZXJ2YWxTdGFydCArIGtTYW1wbGVTdGVwU2l6ZSwgbVgxLCBtWDIpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiBCZXppZXJFYXNpbmcgKHgpIHtcbiAgICBpZiAobVgxID09PSBtWTEgJiYgbVgyID09PSBtWTIpIHtcbiAgICAgIHJldHVybiB4OyAvLyBsaW5lYXJcbiAgICB9XG4gICAgLy8gQmVjYXVzZSBKYXZhU2NyaXB0IG51bWJlciBhcmUgaW1wcmVjaXNlLCB3ZSBzaG91bGQgZ3VhcmFudGVlIHRoZSBleHRyZW1lcyBhcmUgcmlnaHQuXG4gICAgaWYgKHggPT09IDApIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBpZiAoeCA9PT0gMSkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIHJldHVybiBjYWxjQmV6aWVyKGdldFRGb3JYKHgpLCBtWTEsIG1ZMik7XG4gIH07XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gQzovRGV2ZWxvcG1lbnQvQUNFLVR3ZWVuVGltZS9+L2Jlemllci1lYXNpbmcvc3JjL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 6 */
/***/ function(module, exports) {

	eval("module.exports = __WEBPACK_EXTERNAL_MODULE_6__;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wicm9vdFwiOlwiVHdlZW5NYXhcIixcImNvbW1vbmpzXCI6W1wiZ3NhcFwiLFwiVHdlZW5NYXhcIl0sXCJjb21tb25qczJcIjpbXCJnc2FwXCIsXCJUd2Vlbk1heFwiXSxcImFtZFwiOlwiVHdlZW5NYXhcIn0/Y2JlYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI2LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzZfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCB7XCJyb290XCI6XCJUd2Vlbk1heFwiLFwiY29tbW9uanNcIjpbXCJnc2FwXCIsXCJUd2Vlbk1heFwiXSxcImNvbW1vbmpzMlwiOltcImdzYXBcIixcIlR3ZWVuTWF4XCJdLFwiYW1kXCI6XCJUd2Vlbk1heFwifVxuLy8gbW9kdWxlIGlkID0gNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 7 */
/***/ function(module, exports) {

	eval("module.exports = __WEBPACK_EXTERNAL_MODULE_7__;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wicm9vdFwiOlwiVGltZWxpbmVNYXhcIixcImNvbW1vbmpzXCI6W1wiZ3NhcFwiLFwiVGltZWxpbmVNYXhcIl0sXCJjb21tb25qczJcIjpbXCJnc2FwXCIsXCJUaW1lbGluZU1heFwiXSxcImFtZFwiOlwiVGltZWxpbmVNYXhcIn0/MjgwYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI3LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzdfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCB7XCJyb290XCI6XCJUaW1lbGluZU1heFwiLFwiY29tbW9uanNcIjpbXCJnc2FwXCIsXCJUaW1lbGluZU1heFwiXSxcImNvbW1vbmpzMlwiOltcImdzYXBcIixcIlRpbWVsaW5lTWF4XCJdLFwiYW1kXCI6XCJUaW1lbGluZU1heFwifVxuLy8gbW9kdWxlIGlkID0gN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 8 */
/***/ function(module, exports) {

	eval("module.exports = __WEBPACK_EXTERNAL_MODULE_8__;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wicm9vdFwiOlwiUXVhZFwiLFwiY29tbW9uanNcIjpbXCJnc2FwXCIsXCJRdWFkXCJdLFwiY29tbW9uanMyXCI6W1wiZ3NhcFwiLFwiUXVhZFwiXSxcImFtZFwiOlwiUXVhZFwifT9iZTk5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjguanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfOF9fO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIHtcInJvb3RcIjpcIlF1YWRcIixcImNvbW1vbmpzXCI6W1wiZ3NhcFwiLFwiUXVhZFwiXSxcImNvbW1vbmpzMlwiOltcImdzYXBcIixcIlF1YWRcIl0sXCJhbWRcIjpcIlF1YWRcIn1cbi8vIG1vZHVsZSBpZCA9IDhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 9 */
/***/ function(module, exports) {

	eval("module.exports = __WEBPACK_EXTERNAL_MODULE_9__;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wicm9vdFwiOlwiX1wiLFwiY29tbW9uanNcIjpcImxvZGFzaFwiLFwiY29tbW9uanMyXCI6XCJsb2Rhc2hcIixcImFtZFwiOlwibG9kYXNoXCJ9PzU1ZDAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV85X187XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwge1wicm9vdFwiOlwiX1wiLFwiY29tbW9uanNcIjpcImxvZGFzaFwiLFwiY29tbW9uanMyXCI6XCJsb2Rhc2hcIixcImFtZFwiOlwibG9kYXNoXCJ9XG4vLyBtb2R1bGUgaWQgPSA5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }
/******/ ])
});
;